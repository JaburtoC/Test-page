(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return mo})),n.d(e,"b",(function(){return La})),n.d(e,"c",(function(){return Na})),n.d(e,"d",(function(){return Aa})),n.d(e,"e",(function(){return ka})),n.d(e,"f",(function(){return Su})),n.d(e,"g",(function(){return vu})),n.d(e,"h",(function(){return Ji})),n.d(e,"i",(function(){return Qa})),n.d(e,"j",(function(){return gs})),n.d(e,"k",(function(){return Fa})),n.d(e,"l",(function(){return ys})),n.d(e,"m",(function(){return jn})),n.d(e,"n",(function(){return pa})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return vo})),n.d(e,"s",(function(){return Rs})),n.d(e,"t",(function(){return Vs})),n.d(e,"u",(function(){return Ua})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return bu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return fu})),n.d(e,"z",(function(){return Xa})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return Va})),n.d(e,"C",(function(){return Ra})),n.d(e,"D",(function(){return ws})),n.d(e,"E",(function(){return ms})),n.d(e,"F",(function(){return bs})),n.d(e,"G",(function(){return Os})),n.d(e,"H",(function(){return vr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Ou})),n.d(e,"K",(function(){return Fs})),n.d(e,"L",(function(){return ou})),n.d(e,"M",(function(){return eo})),n.d(e,"N",(function(){return Cs})),n.d(e,"O",(function(){return Es})),n.d(e,"P",(function(){return Hs})),n.d(e,"Q",(function(){return Et})),n.d(e,"R",(function(){return du})),n.d(e,"S",(function(){return Kn})),n.d(e,"T",(function(){return M})),n.d(e,"U",(function(){return $n})),n.d(e,"V",(function(){return Iu})),n.d(e,"W",(function(){return uu})),n.d(e,"X",(function(){return Ma})),n.d(e,"Y",(function(){return no})),n.d(e,"Z",(function(){return ia})),n.d(e,"ab",(function(){return gr})),n.d(e,"bb",(function(){return Zn})),n.d(e,"cb",(function(){return Ln})),n.d(e,"db",(function(){return Un})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return qn})),n.d(e,"gb",(function(){return Fn})),n.d(e,"hb",(function(){return Hn})),n.d(e,"ib",(function(){return ta})),n.d(e,"jb",(function(){return Cu})),n.d(e,"kb",(function(){return ea})),n.d(e,"lb",(function(){return na})),n.d(e,"mb",(function(){return Mn})),n.d(e,"nb",(function(){return G})),n.d(e,"ob",(function(){return xo})),n.d(e,"pb",(function(){return zo})),n.d(e,"qb",(function(){return Ho})),n.d(e,"rb",(function(){return Js})),n.d(e,"sb",(function(){return ee})),n.d(e,"tb",(function(){return R})),n.d(e,"ub",(function(){return Vn})),n.d(e,"vb",(function(){return _o})),n.d(e,"wb",(function(){return Wt})),n.d(e,"xb",(function(){return fs})),n.d(e,"yb",(function(){return Vr})),n.d(e,"zb",(function(){return No})),n.d(e,"Ab",(function(){return Xo})),n.d(e,"Bb",(function(){return Ta})),n.d(e,"Cb",(function(){return St})),n.d(e,"Db",(function(){return Dt})),n.d(e,"Eb",(function(){return I})),n.d(e,"Fb",(function(){return T})),n.d(e,"Gb",(function(){return kt})),n.d(e,"Hb",(function(){return Rt})),n.d(e,"Ib",(function(){return Do})),n.d(e,"Jb",(function(){return Fo})),n.d(e,"Kb",(function(){return Uo})),n.d(e,"Lb",(function(){return Mo})),n.d(e,"Mb",(function(){return qo})),n.d(e,"Nb",(function(){return In})),n.d(e,"Ob",(function(){return is})),n.d(e,"Pb",(function(){return lt})),n.d(e,"Qb",(function(){return Ro})),n.d(e,"Rb",(function(){return ja})),n.d(e,"Sb",(function(){return Bo})),n.d(e,"Tb",(function(){return Sa})),n.d(e,"Ub",(function(){return Ko})),n.d(e,"Vb",(function(){return Vo})),n.d(e,"Wb",(function(){return ha})),n.d(e,"Xb",(function(){return fa})),n.d(e,"Yb",(function(){return Ia})),n.d(e,"Zb",(function(){return be})),n.d(e,"ac",(function(){return mr})),n.d(e,"bc",(function(){return Nt})),n.d(e,"cc",(function(){return Po})),n.d(e,"dc",(function(){return ns})),n.d(e,"ec",(function(){return rs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const y="__parameters__";function v(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(y)?t[y]:Object.defineProperty(t,y,{value:[]})[y];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const m=v("Inject",t=>({token:t})),b=v("Optional"),w=v("Self"),_=v("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return x(t,t[A])||x(t,t[P])}function x(t,e){return e&&e.token===t?e:null}function j(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(D))?t[k]:null}const A=E({"\u0275prov":E}),k=E({"\u0275inj":E}),N=E({"\u0275provFallback":E}),P=E({ngInjectableDef:E}),D=E({ngInjectorDef:E});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return R(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}const q="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,G=q||B||H||z,$=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),Q=E({"\u0275pipe":E}),W=E({"\u0275mod":E}),Y=E({"\u0275loc":E}),X=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=I({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new J("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=E({provide:String,useValue:E});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ut(t){const e=ot;return ot=t,e}function ct(t,e=O.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?ht(t,void 0,e):st.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(ot||ct)(U(t),e)}function ht(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${R(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=O.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=O.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=O.Self:t=i instanceof m||i===m?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${R(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function yt(t,e){t.forEach(t=>Array.isArray(t)?yt(t,e):e(t))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Ot=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct={},It=[];let Tt=0;function St(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||It,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Tt++,n.inputs=Pt(t.inputs,e),n.outputs=Pt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(xt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(jt):null,n})}function xt(t){return Vt(t)||function(t){return t[K]||null}(t)}function jt(t){return function(t){return t[Q]||null}(t)}const At={};function kt(t){const e={type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{At[t.id]=t.type}),e}function Nt(t,e){return g(()=>{const n=Mt(t,!0);n.declarations=e.declarations||It,n.imports=e.imports||It,n.exports=e.exports||It})}function Pt(t,e){if(null==t)return Ct;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Dt=St;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vt(t){return t[$]||null}function Lt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Mt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return n}const Ut=20,Ft=10;function qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ht(t){return Array.isArray(t)&&!0===t[1]}function zt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function Gt(t){return 1==(1&t.flags)}function $t(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}class Qt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Wt(){return Yt}function Yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zt),Xt}function Xt(){const t=Jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ct)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Zt(t,e,n,r){const i=Jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Qt(u&&u.currentValue,e,s===Ct),t[r]=e}function Jt(t){return t.__ngSimpleChanges__||null}Wt.ngInherit=!0;let te=void 0;function ee(t){te=t}function ne(t){return!!t.listen}const re={createRenderer:(t,e)=>void 0!==te?te:"undefined"!=typeof document?document:void 0};function ie(t){for(;Array.isArray(t);)t=t[0];return t}function oe(t,e){return ie(e[t+Ut])}function se(t,e){return ie(e[t.index])}function ae(t,e){return t.data[e+Ut]}function ue(t,e){const n=e[t];return qt(n)?n:n[0]}function ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function le(t){return 4==(4&t[2])}function he(t){return 128==(128&t[2])}function fe(t,e){return null===t||null==e?null:t[e]}function de(t){t[18]=0}function pe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ge={lFrame:De(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ye(){return ge.bindingsEnabled}function ve(){return ge.lFrame.lView}function me(){return ge.lFrame.tView}function be(t){ge.lFrame.contextLView=t}function we(){return ge.lFrame.currentTNode}function _e(t,e){ge.lFrame.currentTNode=t,ge.lFrame.isParent=e}function Oe(){return ge.lFrame.isParent}function Ee(){return ge.checkNoChangesMode}function Ce(t){ge.checkNoChangesMode=t}function Ie(){const t=ge.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Te(){return ge.lFrame.bindingIndex++}function Se(t,e){const n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,xe(e)}function xe(t){ge.lFrame.currentDirectiveIndex=t}function je(){return ge.lFrame.currentQueryIndex}function Ae(t){ge.lFrame.currentQueryIndex=t}function ke(t,e){const n=Pe();ge.lFrame=n,n.currentTNode=e,n.lView=t}function Ne(t){const e=Pe(),n=t[1];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Pe(){const t=ge.lFrame,e=null===t?null:t.child;return null===e?De(t):e}function De(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Re(){const t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ve=Re;function Le(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Me(){return ge.lFrame.selectedIndex}function Ue(t){ge.lFrame.selectedIndex=t}function Fe(){const t=ge.lFrame;return ae(t.tView,t.selectedIndex)}function qe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function He(t,e,n){Ge(t,e,3,n)}function ze(t,e,n,r){(3&t[2])===n&&Ge(t,e,n,r)}function Be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ge(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&($e(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function $e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ke=-1;class Qe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function We(t,e,n){const r=ne(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ye(t){return 3===t||4===t||6===t}function Xe(t){return 64===t.charCodeAt(0)}function Ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function tn(t){return t!==Ke}function en(t){return 32767&t}function nn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function rn(t){return"string"==typeof t?t:null==t?"":""+t}function on(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rn(t)}const sn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function an(t){return t instanceof Function?t():t}let un=!0;function cn(t){const e=un;return un=t,e}let ln=0;function hn(t,e){const n=dn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,fn(r.data,t),fn(e,null),fn(r.blueprint,null));const i=pn(t,e),o=t.injectorIndex;if(tn(i)){const t=en(i),n=nn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function fn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ke}function gn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=ln++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function yn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ke(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${on(n)}!`)}finally{Ve()}}else if("number"==typeof i){if(-1===i)return new En(t,e);let o=null,s=dn(t,e),a=Ke,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?pn(t,e):e[s+8],a!==Ke&&On(r,!1)?(o=e[1],s=en(a),e=nn(a,e)):s=-1);-1!==s;){const t=e[1];if(_n(i,s,t.data)){const t=mn(s,e,n,o,r,u);if(t!==vn)return t}a=e[s+8],a!==Ke&&On(r,e[1].data[s+8]===u)&&_n(i,s,e)?(o=t,s=en(a),e=nn(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=ut(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{ut(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${on(n)}]`)}const vn={};function mn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=bn(a,s,n,null==r?Bt(a)&&un:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?wn(e,s,u,a):vn}function bn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&$t(t)&&t.type===n)return u}return null}function wn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Qe){const s=i;if(s.resolving)throw new Error("Circular dep for "+on(o[n]));const a=cn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ut(s.injectImpl):null;ke(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&ut(u),cn(a),s.resolving=!1,Ve()}}return i}function _n(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function On(t,e){return!(t&O.Self||t&O.Host&&e)}class En{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return yn(this._tNode,this._lView,t,void 0,e)}}function Cn(t){const e=t;if(F(t))return()=>{const t=Cn(U(e));return t?t():null};let n=Lt(e);if(null===n){const t=j(e);n=t&&t.factory}return n||null}function In(t){return g(()=>{const e=t.prototype.constructor,n=e[X]||Cn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Cn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Tn(t){return t.ngDebugContext}function Sn(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tn(t)?Tn(t):this._findContext(Sn(t)):null}_findOriginalError(t){let e=Sn(t);for(;e&&Sn(e);)e=Sn(e);return e}}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class kn extends An{getTypeName(){return"HTML"}}class Nn extends An{getTypeName(){return"Style"}}class Pn extends An{getTypeName(){return"Script"}}class Dn extends An{getTypeName(){return"URL"}}class Rn extends An{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof An&&t.getTypeName()||null}function Un(t){return new kn(t)}function Fn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}let Bn=!0,Gn=!1;function $n(){return Gn=!0,Bn}function Kn(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");Bn=!1}class Qn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Yn)||t.match(Xn)?t:($n()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Jn("area,br,col,hr,img,wbr"),nr=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Jn("rp,rt"),ir=tr(rr,nr),or=tr(er,tr(nr,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),sr=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Jn("srcset"),ur=tr(sr,ar,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Jn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;sr[o]&&(s=Zn(s)),ar[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(fr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Qn:new Wn(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);const s=new lr,a=s.sanitizeChildren(yr(n)||n);return $n()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=ve();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":Ln(t,"URL")?Vn(t):Zn(rn(t))}function br(t,e){t.__ngContext__=e}function wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const _r="ng-template";function Or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 0===t.type&&t.tagName!==_r}function Cr(t,e,n){return e===(0!==t.type||n?t.tagName:_r)}function Ir(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ye(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Cr(t,u,n)||""===u&&1===e.length){if(Tr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Or(t.attrs,c,n)){if(Tr(r))return!1;s=!0}continue}const l=Sr(8&r?"class":u,i,Er(t),n);if(-1===l){if(Tr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==wr(e,c,0)||2&r&&c!==t){if(Tr(r))return!1;s=!0}}}}else{if(!s&&!Tr(r)&&!Tr(u))return!1;if(s&&Tr(u))continue;s=!1,r=u|1&r}}return Tr(r)||s}function Tr(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ir(t,e[r],n))return!0;return!1}function jr(t,e){return t?":not("+e.trim()+")":e}function Ar(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Tr(s)||(e+=jr(o,i),i=""),r=s,o=o||!Tr(r);n++}return""!==i&&(e+=jr(o,i)),e}const kr={};function Nr(t){const e=t[3];return Ht(e)?e[3]:e}function Pr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!Ht(t);)t=t[4];return t}function Vr(t){Lr(me(),ve(),Me()+t,Ee())}function Lr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&He(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ze(e,r,0,n)}Ue(n)}function Mr(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Fr(t){return 2|t}function qr(t){return(131068&t)>>2}function Hr(t,e){return-131069&t|e<<2}function zr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ae(i),n.contentQueries(2,e[o],o)}}}function Gr(t,e,n){return ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,de(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Kr(t,e,n,r,i){const o=e+Ut,s=t.data[o]||function(t,e,n,r,i){const o=we(),s=Oe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return _e(s,!0),s}function Qr(t,e,n){Ne(e);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Le()}}function Wr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ne(e);const o=Ee();try{de(e),ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&He(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ze(e,n,0,null),Be(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&pe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Dr(e))for(let t=Ft;t<e.length;t++){const n=e[t],r=n[1];he(n)&&Wr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&He(e,n)}else{const n=t.contentHooks;null!==n&&ze(e,n,1),Be(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ue(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{Ue(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ci(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&He(e,n)}else{const n=t.viewHooks;null!==n&&ze(e,n,2),Be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,pe(e[3],-1))}finally{Le()}}function Yr(t,e,n,r){const i=e[10],o=!Ee(),s=le(e);try{o&&!s&&i.begin&&i.begin(),s&&Qr(t,e,r),Wr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xr(t,e,n,r,i){const o=Me();try{Ue(-1),2&r&&e.length>Ut&&Lr(t,e,0,Ee()),n(r,i)}finally{Ue(o)}}function Zr(t,e,n){ye()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||hn(n,e),br(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=$t(r);o&&pi(e,n,r);const u=wn(e,t,a,n);br(u,e),null!==s&&gi(0,a-i,u,r,0,s),o&&(ue(n.index,e)[8]=u)}}(t,e,n,se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ut,u=ge.lFrame.currentDirectiveIndex;try{Ue(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];xe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ui(r,i):s&&o.push(null)}}finally{Ue(-1),xe(u)}}(t,e,n))}function Jr(t,e,n=se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,o,s,a,u,c){const l=Ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ni(t,e,n,r){const i=Ti(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,o,s,a){const u=se(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(xi(t,n,c,r,i),Bt(e)&&function(t,e){const n=ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,ne(o)?o.setProperty(u,r,i):Xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function oi(t,e,n,r){let i=!1;if(ye()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xr(n,s.selectors,!1)&&(i||(i=[]),gn(hn(n,e),t,s.type),$t(s)?(li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ci(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ze(n.mergedAttrs,c.hostAttrs),di(t,e,c),hi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ut),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ut),u=!0),si(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Er(e)?null:yi(n,i);o.push(c),s=ri(n,u,s),a=ri(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ai(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ze(n.mergedAttrs,n.attrs),i}function si(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){const r=Ut-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$t(e)&&(n[""]=t)}}function fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Lt(n.type)),i=new Qe(r,$t(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){const r=se(e,t),i=ti(n),o=t[10],s=wi(t,$r(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function gi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mi(t,e){const n=ue(e,t);if(he(n)){const t=n[1];80&n[2]?Wr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Pr(e);null!==r;r=Dr(r))for(let e=Ft;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Wr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ue(n[r],e);he(i)&&i[5]>0&&t(i)}}(n)}}function bi(t,e){const n=ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Qr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;const e=Nr(t);if(Kt(t)&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Si(e,i),i}finally{r.end&&r.end()}}function Ei(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ce(n),i=r[1];Yr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Ae(0),e(t,n)}const Ii=(()=>Promise.resolve(null))();function Ti(t){return t[7]||(t[7]=[])}function Si(t,e){const n=t[9],r=n?n.get(jn,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ji(t,e,n,r,i){if(null!=r){let o,s=!1;Ht(r)?o=r:qt(r)&&(s=!0,r=r[0]);const a=ie(r);0===t&&null!==n?null==i?Ri(e,n,a):Di(e,n,a,i||null):1===t&&null!==n?Di(e,n,a,i||null):2===t?function(t,e,n){const r=Li(t,e);r&&function(t,e,n,r){ne(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ie(n)&&ji(e,t,r,o,i);for(let s=Ft;s<n.length;s++){const i=n[s];Fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ai(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,pe(i,-1)),n.splice(r,1)}function ki(t,e){if(t.length<=Ft)return;const n=Ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ai(o,r),e>0&&(t[n-1][4]=r[4]);const s=mt(t,Ft+e);Fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];ne(n)&&n.destroyNode&&Fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)qt(e)&&Pi(e[1],e),e=e[3];null===e&&(e=t),qt(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Qe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ie(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ne(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ht(e[3])){n!==e[3]&&Ai(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Di(t,e,n,r){ne(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ri(t,e,n){ne(t)?t.appendChild(e,n):e.appendChild(n)}function Vi(t,e,n,r){null!==r?Di(t,e,n,r):Ri(t,e,n)}function Li(t,e){return ne(t)?t.parentNode(e):e.parentNode}function Mi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Et.ShadowDom&&n!==Et.Native)return null}return se(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?se(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Vi(t,i,n[e],o);else Vi(t,i,n,o)}}function Ui(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&br(ie(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Ui(t,e,n.child,r,i,o,!1),ji(e,t,i,a,o)):1===u?qi(t,e,r,n,i,o):ji(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Fi(t,e,n,r,i,o){Ui(n,r,t.firstChild,e,i,o,!1)}function qi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ji(e,t,i,a[u],o);else Ui(t,e,a,s[3],i,o,!0)}function Hi(t,e,n){ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zi(t,e,n){ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Bi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ie(s)),Ht(s))for(let e=Ft;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Nr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){ni(this._lView[1],this._lView,null,t)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ce(!0);try{Oi(t,e,n)}finally{Ce(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gi extends Bi{constructor(t){super(t),this._view=t}detectChanges(){Ei(this._view)}checkNoChanges(){!function(t){Ce(!0);try{Ei(t)}finally{Ce(!1)}}(this._view)}get context(){return null}}let $i,Ki,Qi;function Wi(t,e,n){return $i||($i=class extends t{}),new $i(se(e,n))}function Yi(t,e,n,r){return Ki||(Ki=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=$r(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qr(e,n,t),new Bi(n)}}),0===n.type?new Ki(r,n,Wi(e,n,r)):null}function Xi(t,e,n,r){let i;Qi||(Qi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Wi(e,this._hostTNode,this._hostView)}get injector(){return new En(this._hostTNode,this._hostView)}get parentInjector(){const t=pn(this._hostTNode,this._hostView);if(tn(t)){const e=nn(t,this._hostView),n=en(t);return new En(e[1].data[n+8],e)}return new En(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Qi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ft?(e[4]=n[i],vt(n,Ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Ft+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return se(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ht(e)?t(-1,e):ie(e)}}{const t=n[16],i=t[6],o=Nr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Li(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Fi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),vt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);n&&(mt(this._lContainer[8],e),Ni(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ki(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new Bi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ht(o))i=o;else{let t;if(3===n.type)t=ie(o);else if(t=r[11].createComment(""),Kt(r)){const e=r[11],i=se(n,r);Di(e,Li(e,i),t,function(t,e){return ne(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Mi(r[1],r,t,n);r[n.index]=i=vi(o,r,t,n),wi(r,i)}return new Qi(i,n,r)}function Zi(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=ue(t.index,e);return new Bi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Bi(e[16],e):null}(we(),ve(),t)}let Ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>to(),t})();const to=Zi,eo=Function,no=new J("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new dt),so}function uo(t,e=null,n=null,r){return new co(t,n,e||ao(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&yt(e,n=>this.processProvider(n,t,e)),yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:R(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof J)&&S(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?ao():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(R(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(R(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=j(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=j(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];yt(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=S(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;const r=j(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${R(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[P]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=U(t);return Lt(e)||lo(e)}if(po(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Lt(e)||lo(e);r=()=>new e(...ft(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&it in t}function go(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new dt,t.\u0275prov=I({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const mo=new J("AnalyzeForEntryComponents");function bo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=V(i,t):2==o&&(r=V(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wo(t,e){const n=ce(t)[1],r=n.data.length-1;qe(n,{directiveStart:r,directiveEnd:r+1})}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if($t(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Oo(t.inputs),e.declaredInputs=Oo(t.declaredInputs),e.outputs=Oo(t.outputs);const n=i.hostBindings;n&&Io(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Eo(t,o),s&&Co(t,s),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),$t(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ze(i.hostAttrs,n=Ze(n,i.hostAttrs))}}(r)}function Oo(t){return t===Ct?{}:t===It?[]:t}function Eo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Co(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Io(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let To=null;function So(){if(!To){const t=G.Symbol;if(t&&t.iterator)To=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(To=n)}}}return To}function xo(t){return!!jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ao(t,e,n){return t[e]=n}function ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r){const i=ve();return ko(i,Te(),e)&&(me(),function(t,e,n,r,i,o){const s=se(t,e),a=e[11];if(null==r)ne(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?rn(r):i(r,t.tagName||"",n);ne(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Fe(),i,t,e,n,r)),No}function Po(t,e,n,r,i,o,s,a){const u=ve(),c=me(),l=t+Ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Kr(e,t,0,s||null,fe(c,a));oi(e,n,l,fe(c,u)),qe(e,l);const h=l.tViews=ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];_e(h,!1);const f=u[11].createComment("");Mi(c,u,f,h),br(f,u),wi(u,u[l]=vi(f,u,f,h)),Gt(h)&&Zr(c,u,h),null!=s&&Jr(u,h,a)}function Do(t,e=O.Default){const n=ve();return null===n?lt(t,e):yn(we(),n,U(t),e)}function Ro(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ye(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(we(),t)}function Vo(t,e,n){const r=ve();return ko(r,Te(),e)&&ii(me(),Fe(),r,t,e,r[11],n,!1),Vo}function Lo(t,e,n,r,i){const o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){const i=ve(),o=me(),s=Ut+t,a=i[11],u=i[s]=Gr(e,a,ge.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Kr(e,t,2,i,fe(a,o));return oi(e,n,u,fe(a,s)),null!==u.attrs&&bo(u,u.attrs,!1),null!==u.mergedAttrs&&bo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];_e(c,!0);const l=c.mergedAttrs;null!==l&&We(a,u,l);const h=c.classes;null!==h&&zi(a,u,h);const f=c.styles;null!==f&&Hi(a,u,f),Mi(o,i,u,c),0===ge.lFrame.elementDepthCount&&br(u,i),ge.lFrame.elementDepthCount++,Gt(c)&&(Zr(o,i,c),function(t,e,n){if(zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Jr(i,c)}function Uo(){let t=we();Oe()?ge.lFrame.isParent=!1:(t=t.parent,_e(t,!1));const e=t;ge.lFrame.elementDepthCount--;const n=me();n.firstCreatePass&&(qe(n,t),zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,ve(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,ve(),e.stylesWithoutHost,!1)}function Fo(t,e,n,r){Mo(t,e,n,r),Uo()}function qo(){return ve()}function Ho(t){return!!t&&"function"==typeof t.then}function zo(t){return!!t&&"function"==typeof t.subscribe}function Bo(t,e,n=!1,r){const i=ve(),o=me(),s=we();return function(t,e,n,r,i,o,s=!1,a){const u=Gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ti(e);let h=!0;if(2===r.type){const f=se(r,e),d=a?a(f):Ct,p=d.target||f,g=l.length,y=a?t=>a(ie(t[r.index])).target:r.index;if(ne(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=$o(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=$o(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Bo}function Go(t,e,n){try{return!1!==e(n)}catch(r){return Si(t,r),!1}}function $o(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ue(t.index,e):e;0==(32&e[2])&&_i(s);let a=Go(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Go(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(t=1){return function(t){return(ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ge.lFrame.contextLView))[8]}(t)}const Qo=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ur(o):qr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Yo(t[a],e)&&(u=!0,t[a+1]=r?zr(n):Fr(n)),a=r?Ur(n):qr(n)}u&&(t[n+1]=r?Fr(o):zr(o))}function Yo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}function Xo(t,e){return function(t,e,n,r){const i=ve(),o=me(),s=function(t){const e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Me()+Ut],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Jo(n=Zo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Zo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==qr(r))return t[Ur(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Zo(null,t,e,n[1],r),n=Jo(n,e.attrs,r),function(t,e,n,r){t[Ur(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Jo(r,t[o].hostAttrs,true);return Jo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ur(s),u=qr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ur(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Hr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Hr(t[a+1],r)),a=r;else t[r+1]=Mr(u,0),0===a?a=r:t[u+1]=Hr(t[u+1],r),u=r;l&&(t[r+1]=Fr(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=zr(n[r+1]))}(e,c,t,r),s=Mr(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==kr&&ko(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];es(1==(1&c)?ts(u,e,n,i,qr(c),s):void 0)||(es(o)||function(t){return 2==(2&t)}(c)&&(o=ts(u,null,n,i,a,s)),function(t,e,n,r,i){const o=ne(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,oe(Me(),n),i,o))}(o,o.data[Me()+Ut],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=R(Vn(t))),t}(e),true,s)}(t,e),Xo}function Zo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Jo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,s,!!n||e[++o]))}return void 0===t?null:t}function ts(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===kr&&(l=c?Qo:void 0);let h=c?wt(l,r):u===r?l:void 0;if(o&&!es(h)&&(h=wt(e,r)),es(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ur(f):qr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=wt(t,r))}return a}function es(t){return void 0!==t}function ns(t,e=""){const n=ve(),r=me(),i=t+Ut,o=r.firstCreatePass?Kr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return ne(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Mi(r,n,s,o),_e(o,!1)}function rs(t,e,n){const r=ve(),i=function(t,e,n,r){return ko(t,Te(),n)?e+rn(n)+r:kr}(r,t,e,n);return i!==kr&&function(t,e,n){const r=oe(e,t),i=t[11];ne(i)?i.setValue(r,n):r.textContent=n}(r,Me(),i),rs}function is(t,e,n){const r=ve();return ko(r,Te(),e)&&ii(me(),Fe(),r,t,e,r[11],n,!0),is}function os(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let o=0;o<t.length;o++)os(t[o],e,n,r,i);else{const o=me(),s=ve();let a=go(t)?t:U(t.provide),u=ho(t);const c=we(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new Qe(u,i,Do),d=us(a,e,i?l:l+f,h);-1===d?(gn(hn(c,s),o,a),ss(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=us(a,e,l+f,h),p=us(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){gn(hn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Qe(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,as(o,i,r&&!n),o}(i?ls:cs,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),ss(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ss(o,t,d>-1?d:p,as(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function ss(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function as(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function us(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cs(t,e,n,r){return hs(this.multi,[])}function ls(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=wn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),hs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],hs(i,o);return o}function hs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=me();if(r.firstCreatePass){const i=$t(t);os(n,r.data,r.blueprint,i,!0),os(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ds{}class ps{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let gs=(()=>{class t{}return t.NULL=new ps,t})(),ys=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>vs(t),t})();const vs=function(t){return Wi(t,we(),ve())};class ms{}var bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ws=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_s(),t})();const _s=function(){const t=ve(),e=ue(we().index,t);return function(t){const e=t[11];if(ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(qt(e)?e:t)};let Os=(()=>{class t{}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>null}),t})();class Es{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cs=new Es("10.1.6");class Is{constructor(){}supports(t){return xo(t)}create(t){return new Ss(t)}}const Ts=(t,e)=>e;class Ss{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ts}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ks(n,r,i)?e:n,s=ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${R(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class As{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ns{constructor(){}supports(t){return t instanceof Map||jo(t)}create(){return new Ps}}class Ps{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||jo(t)))throw new Error(`Error trying to diff '${R(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ds(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ds{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>new t([new Is])}),t})(),Vs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>new t([new Ns])}),t})();const Ls=[new Ns],Ms=new Rs([new Is]),Us=new Vs(Ls);let Fs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qs(t,ys),t})();const qs=function(t,e){return Yi(t,e,we(),ve())};let Hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zs(t,ys),t})();const zs=function(t,e){return Xi(t,e,we(),ve())},Bs={};class Gs extends gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Vt(t);return new Qs(e,this.ngModule)}}function $s(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ks=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sn});class Qs extends ds{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $s(this.componentDef.inputs)}get outputs(){return $s(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Bs,i);return o!==Bs||r===Bs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ms,re),s=i.get(Os,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ne(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:sn,clean:Ii,playerHandler:null,flags:0},f=ei(0,null,null,1,0,null,null,null,null,null),d=$r(null,f,h,l,null,null,o,a,s,i);let p,g;Ne(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Kr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(bo(a,u,!0),null!==t&&(We(i,t,u),null!==a.classes&&zi(i,t,a.classes),null!==a.styles&&Hi(i,t,a.styles)));const c=r.createRenderer(t,e),l=$r(n,ti(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(gn(hn(a,n),s,e.type),li(s,a),fi(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)We(a,c,["ng-version",Cs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Tr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&We(a,c,t),e&&e.length>0&&zi(a,c,e.join(" "))}if(g=ae(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=we();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),di(t,e,n));const i=wn(e,t,e.length-1,r);br(i,e);const o=se(r,e);return o&&br(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=we();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ue(a.index-Ut);const t=n[1];si(t,e),ai(t,n,e.hostVars),ui(e,s)}return s}(t,this.componentDef,d,h,[wo]),Qr(f,d,null)}finally{Le()}return new Ws(this.componentType,p,Wi(ys,g,d),d,g)}}class Ws extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gi(r),this.componentType=t}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ys=void 0;var Xs=["en",[["a","p"],["AM","PM"],Ys],[["AM","PM"],Ys,Ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ys,"{1} 'at' {0}",Ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Zs={};function Js(t,e,n){"string"!=typeof e&&(n=e,e=t[ia.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Zs[e]=t,n&&(Zs[e][ia.ExtraData]=n)}function ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ra(e);if(n)return n;const r=e.split("-")[0];if(n=ra(r),n)return n;if("en"===r)return Xs;throw new Error(`Missing locale data for the locale "${t}".`)}function ea(t){return ta(t)[ia.CurrencyCode]||null}function na(t){return ta(t)[ia.PluralCase]}function ra(t){return t in Zs||(Zs[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Zs[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oa="en-US";let sa=oa;function aa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(sa=t.toLowerCase().replace(/_/g,"-"))}const ua=new Map;class ca extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gs(this);const n=Mt(t),r=t[Y]||null;r&&aa(r),this._bootstrapComponents=an(n.bootstrap),this._r3Injector=uo(t,e,[{provide:pt,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],R(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=O.Default){return t===vo||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class la extends gt{constructor(t){super(),this.moduleType=t,null!==Mt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${R(e)} vs ${R(e.name)}`)})(t,ua.get(t),e),ua.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ca(this.moduleType,t)}}function ha(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return ko(t,s,i)?Ao(t,s+1,o?r.call(o,i):r(i)):da(t,s+1)}(ve(),Ie(),t,e,n,r)}function fa(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=ko(t,e,n);return ko(t,e+1,r)||i}(t,a,i,o)?Ao(t,a+2,s?r.call(s,i,o):r(i,o)):da(t,a+2)}(ve(),Ie(),t,e,n,r,i)}function da(t,e){const n=t[e];return n===kr?void 0:n}const pa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function ga(){return this._results[So()]()}class ya{constructor(){this.dirty=!0,this._results=[],this.changes=new pa,this.length=0;const t=So(),e=ya.prototype;e[t]||(e[t]=ga)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class va{constructor(t){this.queryList=t,this.matches=null}clone(){return new va(this.queryList)}setDirty(){this.queryList.setDirty()}}class ma{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ma(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==xa(t,e).matches&&this.queries[e].setDirty()}}class ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class wa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _a{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _a(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Oa(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===Fs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ys||r===Hs||r===Fs&&0===e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Oa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ea(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Wi(ys,t,e):0===t.type?Yi(Fs,ys,t,e):null}(e,t):-2===n?function(t,e,n){return n===ys?Wi(ys,e,t):n===Fs?Yi(Fs,ys,e,t):n===Hs?Xi(Hs,ys,e,t):void 0}(t,e,r):wn(t,t[1],n,e)}function Ca(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ea(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ia(t){const e=ve(),n=me(),r=je();Ae(r+1);const i=xa(n,r);if(t.dirty&&le(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Ca(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Ft;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Ca(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ta(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new wa),t.queries.track(new _a(e,n))}(t,new ba(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ya;ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new ma),e[19].queries.push(new va(n))}(t,e)}(me(),ve(),e,n,r,0,we(),t)}function Sa(){return t=ve(),e=je(),t[19].queries[e].queryList;var t,e}function xa(t,e){return t.queries.getByIndex(e)}function ja(t=O.Default){const e=Zi(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Aa=new J("Application Initializer");let ka=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ho(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(Aa,8))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const Na=new J("AppId"),Pa={provide:Na,useFactory:function(){return`${Da()}${Da()}${Da()}`},deps:[]};function Da(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ra=new J("Platform Initializer"),Va=new J("Platform ID"),La=new J("appBootstrapListener");let Ma=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const Ua=new J("LocaleId"),Fa=new J("DefaultCurrencyCode");class qa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ha=function(t){return new la(t)},za=Ha,Ba=function(t){return Promise.resolve(Ha(t))},Ga=function(t){const e=Ha(t),n=an(Mt(t).declarations).reduce((t,e)=>{const n=Vt(e);return n&&t.push(new Qs(n)),t},[]);return new qa(e,n)},$a=Ga,Ka=function(t){return Promise.resolve(Ga(t))};let Qa=(()=>{class t{constructor(){this.compileModuleSync=za,this.compileModuleAsync=Ba,this.compileModuleAndAllComponentsSync=$a,this.compileModuleAndAllComponentsAsync=Ka}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const Wa=(()=>Promise.resolve(0))();function Ya(t){"undefined"==typeof Zone?Wa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,eu(t),tu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),eu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return nu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ru(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return nu(t),e.invoke(r,i,o,s,a)}finally{ru(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,eu(t),tu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ja,Za,Za);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Za(){}const Ja={};function tu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function nu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ru(t){t._nesting--,tu(t)}class iu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ou=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xa.assertNotInAngularZone(),Ya(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ya(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(Xa))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})(),su=(()=>{class t{constructor(){this._applications=new Map,lu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();class au{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function uu(t){lu=t}let cu,lu=new au;const hu=new J("AllowMultipleToken");class fu{constructor(t,e){this.name=t,this.token=e}}function du(t,e,n=[]){const r="Platform: "+e,i=new J(r);return(e=[])=>{let o=pu();if(!o||o.injector.get(hu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(cu&&!cu.destroyed&&!cu.injector.get(hu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cu=t.get(gu);const e=t.get(Ra,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=pu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pu(){return cu&&!cu.destroyed?cu:null}let gu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new iu:("zone.js"===t?void 0:t)||new Xa({enableLongStackTrace:$n(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xa,useValue:n}];return n.run(()=>{const e=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(jn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>mu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ho(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ka);return t.runInitializers(),t.donePromise.then(()=>(aa(i.injector.get(Ua,oa)||oa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=yu({},e);return function(t,e,n){const r=new la(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${R(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(vo))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function yu(t,e){return Array.isArray(e)?e.reduce(yu,t):Object.assign(Object.assign({},t),e)}let vu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$n(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xa.assertNotInAngularZone(),Ya(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ds?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(vo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ou,null);return o&&i.injector.get(su).registerApplication(i.location.nativeElement,o),this._loadComponent(i),$n()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(La,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),mu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(Xa),lt(Ma),lt(vo),lt(jn),lt(gs),lt(ka))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bu{}class wu{}const _u={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ou=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||_u}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Eu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Eu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(Qa),lt(wu,8))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function Eu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Cu=function(t){return null},Iu=du(null,"core",[{provide:Va,useValue:"unknown"},{provide:gu,deps:[vo]},{provide:su,deps:[]},{provide:Ma,deps:[]}]),Tu=[{provide:vu,useClass:vu,deps:[Xa,Ma,vo,jn,gs,ka]},{provide:Ks,deps:[Xa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ka,useClass:ka,deps:[[new b,Aa]]},{provide:Qa,useClass:Qa,deps:[]},Pa,{provide:Rs,useFactory:function(){return Ms},deps:[]},{provide:Vs,useFactory:function(){return Us},deps:[]},{provide:Ua,useFactory:function(t){return aa(t=t||"undefined"!=typeof $localize&&$localize.locale||oa),t},deps:[[new m(Ua),new b,new _]]},{provide:Fa,useValue:"USD"}];let Su=(()=>{class t{constructor(t){}}return t.\u0275mod=kt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(lt(vu))},providers:Tu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[m,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAJruJitzk2DRrV9ltpTS8b8rqbKspa5bg",authDomain:"heroesapp-674a9.firebaseapp.com",databaseURL:"https://heroesapp-674a9.firebaseio.com",projectId:"heroesapp-674a9",storageBucket:"heroesapp-674a9.appspot.com",messagingSenderId:"754787992812",appId:"1:754787992812:web:4c47c52fd89a318fe811c9"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(u))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(v),Object(r.Pb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class S{}let x=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let V=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:x}]}),t})();function L(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,H||(H=document.createElement("a")),H.setAttribute("href",n),"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let H,z=null;const B=new r.q("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,a,r.r],multi:!0}];class ${static init(){Object(r.W)(new $)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const K=new r.q("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(K),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Q),r.Pb(X),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ot extends rt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=tt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let st=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ft=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),$.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],dt=Object(r.R)(r.V,"browser",ft),pt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:K,useClass:st,multi:!0,deps:[a,r.z,r.B]},{provide:K,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[Q,X,r.c]},{provide:r.E,useExisting:nt},{provide:Y,useExisting:X},{provide:X,useClass:X,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Q,useClass:Q,deps:[K,r.z]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:B,useExisting:r.c},G]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:pt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var yt=n("HDdC"),vt=n("DH7j"),mt=n("lJxs"),bt=n("XoHu"),wt=n("Cfvw");function _t(t,e){return new yt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(wt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ot=new r.q("NgValueAccessor"),Et={provide:Ot,useExisting:Object(r.T)(()=>Ct),multi:!0};let Ct=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Et])]}),t})();const It={provide:Ot,useExisting:Object(r.T)(()=>St),multi:!0},Tt=new r.q("CompositionEventMode");let St=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Tt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([It])]}),t})(),xt=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),jt=(()=>{class t extends xt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return At(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const At=r.Nb(jt);class kt extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}let Nt=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(kt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function Pt(t){return null==t||0===t.length}function Dt(t){return null!=t&&"number"==typeof t.length}const Rt=new r.q("NgValidators"),Vt=new r.q("NgAsyncValidators"),Lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mt{static min(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Pt(e.value)||Pt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Pt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Pt(t.value)||Lt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Pt(e.value)||!Dt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Dt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Mt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Pt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ut);return 0==e.length?null:function(t){return qt(Ht(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ut);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(vt.a)(e))return _t(e,null);if(Object(bt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return _t(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return _t(t=1===t.length&&Object(vt.a)(t[0])?t[0]:t,null).pipe(Object(mt.a)(t=>e(...t)))}return _t(t,null)}(Ht(t,e).map(Ft)).pipe(Object(mt.a)(qt))}}}function Ut(t){return null!=t}function Ft(t){const e=Object(r.qb)(t)?Object(wt.a)(t):t;return Object(r.pb)(e),e}function qt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ht(t,e){return e.map(e=>e(t))}function zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Bt={provide:Ot,useExisting:Object(r.T)(()=>Gt),multi:!0};let Gt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Bt])]}),t})();const $t={provide:Ot,useExisting:Object(r.T)(()=>Qt),multi:!0};let Kt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Qt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(kt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Kt),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([$t])]}),t})();const Wt={provide:Ot,useExisting:Object(r.T)(()=>Yt),multi:!0};let Yt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Wt])]}),t})();const Xt={provide:Ot,useExisting:Object(r.T)(()=>Zt),multi:!0};let Zt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Xt])]}),t})();const Jt={provide:Ot,useExisting:Object(r.T)(()=>te),multi:!0};let te=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Jt])]}),t})();function ee(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ne(t){return null!=t?Mt.compose(zt(t)):null}function re(t){return null!=t?Mt.composeAsync(zt(t)):null}const ie=[Ct,Yt,Gt,Zt,te,Qt],oe="VALID",se="INVALID",ae="PENDING",ue="DISABLED";function ce(t){return(de(t)?t.validators:t)||null}function le(t){return Array.isArray(t)?ne(t):t||null}function he(t,e){return(de(e)?e.asyncValidators:t)||null}function fe(t){return Array.isArray(t)?re(t):t||null}function de(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=le(this._rawValidators),this._composedAsyncValidatorFn=fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===oe}get invalid(){return this.status===se}get pending(){return this.status==ae}get disabled(){return this.status===ue}get enabled(){return this.status!==ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=le(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fe(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ae,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ue,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oe,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==oe&&this.status!==ae||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ue:oe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ae,this._hasOwnPendingAsyncValidator=!0;const e=Ft(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ye?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ve&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ue:this.errors?se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ae)?ae:this._anyControlsHaveStatus(se)?se:oe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){de(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ge extends pe{constructor(t=null,e,n){super(ce(e),he(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ye extends pe{constructor(t,e,n){super(ce(e),he(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ge?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ve extends pe{constructor(t,e,n){super(ce(e),he(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ge?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const me={provide:kt,useExisting:Object(r.T)(()=>we)},be=(()=>Promise.resolve(null))();let we=(()=>{class t extends kt{constructor(t,e,n,i){super(),this.control=new ge,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===St?n=t:(e=t,ie.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ne(this._rawValidators)}get asyncValidator(){return re(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(t=this.control).validator=Mt.compose([t.validator,(e=this).validator]),t.asyncValidator=Mt.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ee(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ee(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){be.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;be.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(jt,9),r.Ib(Rt,10),r.Ib(Vt,10),r.Ib(Ot,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([me]),r.vb,r.wb]}),t})(),_e=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Oe=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Kt],imports:[_e]}),t})();var Ee=n("LRne"),Ce=n("XNiG"),Ie=n("9ppp");class Te extends Ce.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ie.a;return this._value}next(t){super.next(this._value=t)}}var Se=n("z+Ro"),xe=n("7o/Q");class je extends xe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ae extends xe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ke=n("SeVD");function Ne(t,e,n,r,i=new Ae(t,n,r)){if(!i.closed)return e instanceof yt.a?e.subscribe(i):Object(ke.a)(e)(i)}var Pe=n("yCtX");const De={};class Re{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ve(t,this.resultSelector))}}class Ve extends je{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(De),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ne(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===De?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Le=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Me=n("EY2u");function Ue(t){return new yt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(wt.a)(n):Object(Me.b)()).subscribe(e)})}var Fe=n("bHdf");function qe(){return Object(Fe.a)(1)}function He(t,e){return function(n){return n.lift(new ze(t,e))}}class ze{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Be(t,this.predicate,this.thisArg))}}class Be extends xe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ge=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $e(t){return function(e){return 0===t?Object(Me.b)():e.lift(new Ke(t))}}class Ke{constructor(t){if(this.total=t,this.total<0)throw new Ge}call(t,e){return e.subscribe(new Qe(t,this.total))}}class Qe extends xe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function We(t=Ze){return e=>e.lift(new Ye(t))}class Ye{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Xe(t,this.errorFactory))}}class Xe extends xe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Rb){t=Rb}this.destination.error(t)}}}function Ze(){return new Le}function Je(t=null){return e=>e.lift(new tn(t))}class tn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new en(t,this.defaultValue))}}class en extends xe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nn=n("SpAZ"),rn=n("zx2A");function on(t,e){return"function"==typeof e?n=>n.pipe(on((n,r)=>Object(wt.a)(t(n,r)).pipe(Object(mt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new sn(t))}class sn{constructor(t){this.project=t}call(t,e){return e.subscribe(new an(t,this.project))}}class an extends rn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new rn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(rn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function un(t){return e=>0===t?Object(Me.b)():e.lift(new cn(t))}class cn{constructor(t){if(this.total=t,this.total<0)throw new Ge}call(t,e){return e.subscribe(new ln(t,this.total))}}class ln extends xe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function hn(...t){return qe()(Object(Ee.a)(...t))}function fn(...t){const e=t[t.length-1];return Object(Se.a)(e)?(t.pop(),n=>hn(t,n,e)):e=>hn(t,e)}function dn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pn(t,e,n))}}class pn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new gn(t,this.accumulator,this.seed,this.hasSeed))}}class gn extends xe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yn(t){return function(e){const n=new vn(t),r=e.lift(n);return n.caught=r}}class vn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mn(t,this.selector,this.caught))}}class mn extends rn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new rn.a(this);this.add(r);const i=Object(rn.c)(n,r);i!==r&&this.add(i)}}}var bn=n("5+tZ");function wn(t,e){return Object(bn.a)(t,e,1)}function _n(t,e){const n=arguments.length>=2;return r=>r.pipe(t?He((e,n)=>t(e,n,r)):nn.a,un(1),n?Je(e):We(()=>new Le))}var On=n("vkgz"),En=n("quSY");class Cn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new In(t,this.callback))}}class In extends xe.a{constructor(t,e){super(t),this.add(new En.a(e))}}class Tn{constructor(t,e){this.id=t,this.url=e}}class Sn extends Tn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends Tn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jn extends Tn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class An extends Tn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kn extends Tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends Tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends Tn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dn extends Tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends Tn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ln{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zn="primary";class Bn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gn(t){return new Bn(t)}function $n(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Kn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Wn(t[i],e[i]))return!1;return!0}function Wn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Yn(t){return Array.prototype.concat.apply([],t)}function Xn(t){return t.length>0?t[t.length-1]:null}function Zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Jn(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(wt.a)(Promise.resolve(t)):Object(Ee.a)(t)}function tr(t,e,n){return n?function(t,e){return Qn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ir(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Wn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ir(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ir(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ir(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class er{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return ur.serialize(this)}}class nr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}}class rr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gn(this.parameters)),this._parameterMap}toString(){return gr(this)}}function ir(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function or(t,e){let n=[];return Zn(t.children,(t,r)=>{r===zn&&(n=n.concat(e(t,r)))}),Zn(t.children,(t,r)=>{r!==zn&&(n=n.concat(e(t,r)))}),n}class sr{}class ar{parse(t){const e=new wr(t);return new er(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return cr(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Zn(e.children,(e,n)=>{n!==zn&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=or(e,(n,r)=>r===zn?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${cr(e)}/${n[0]}`:`${cr(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${hr(e)}=${hr(t)}`).join("&"):`${hr(e)}=${hr(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ur=new ar;function cr(t){return t.segments.map(t=>gr(t)).join("/")}function lr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hr(t){return lr(t).replace(/%3B/gi,";")}function fr(t){return lr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dr(t){return decodeURIComponent(t)}function pr(t){return dr(t.replace(/\+/g,"%20"))}function gr(t){return`${fr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fr(t)}=${fr(e[t])}`).join("")}`;var e}const yr=/^[^\/()?;=#]+/;function vr(t){const e=t.match(yr);return e?e[0]:""}const mr=/^[^=?&#]+/,br=/^[^?&#]+/;class wr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new nr(t,e)),n}parseSegment(){const t=vr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new rr(dr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vr(this.remaining);t&&(n=t,this.capture(n))}t[dr(e)]=dr(n)}parseQueryParam(t){const e=function(t){const e=t.match(mr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(br);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=pr(e),i=pr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=zn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new nr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _r{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Or(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Or(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Er(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Er(t,this._root).map(t=>t.value)}}function Or(t,e){if(t===e.value)return e;for(const n of e.children){const e=Or(t,n);if(e)return e}return null}function Er(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Er(t,n);if(r.length)return r.unshift(e),r}return[]}class Cr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ir(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Tr extends _r{constructor(t,e){super(t),this.snapshot=e,Nr(this,t)}toString(){return this.snapshot.toString()}}function Sr(t,e){const n=function(t,e){const n=new Ar([],{},{},"",{},zn,e,null,t.root,-1,{});return new kr("",new Cr(n,[]))}(t,e),r=new Te([new rr("",{})]),i=new Te({}),o=new Te({}),s=new Te({}),a=new Te(""),u=new xr(r,i,s,a,o,zn,e,n.root);return u.snapshot=n.root,new Tr(new Cr(u,[]),n)}class xr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(mt.a)(t=>Gn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(mt.a)(t=>Gn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ar{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kr extends _r{constructor(t,e){super(e),this.url=t,Nr(this,e)}toString(){return Pr(this._root)}}function Nr(t,e){e.value._routerState=t,e.children.forEach(e=>Nr(t,e))}function Pr(t){const e=t.children.length>0?` { ${t.children.map(Pr).join(", ")} } `:"";return`${t.value}${e}`}function Dr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rr(t,e){return Qn(t.params,e.params)&&function(t,e){return ir(t,e)&&t.every((t,n)=>Qn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rr(t.parent,e.parent))}function Vr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lr(t,e,n,r,i){let o={};return r&&Zn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new er(n.root===t?e:function t(e,n,r){const i={};return Zn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new nr(e.segments,i)}(n.root,t,e),o,i)}class Mr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Xn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Fr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function qr(t,e,n){if(t||(t=new nr([],{})),0===t.segments.length&&t.hasChildren())return Hr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Fr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!$r(s,a,e))return o;r+=2}else{if(!$r(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new nr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new nr(t.segments.slice(r.pathIndex),t.children),Hr(e,0,i)}return r.match&&0===i.length?new nr(t.segments,{}):r.match&&!t.hasChildren()?zr(t,e,n):r.match?Hr(t,0,i):zr(t,e,n)}function Hr(t,e,n){if(0===n.length)return new nr(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[zn]:t}}(n),i={};return Zn(r,(n,r)=>{null!==n&&(i[r]=qr(t.children[r],e,n))}),Zn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new nr(t.segments,i)}}function zr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Br(n[i].outlets);return new nr(r,t)}if(0===i&&Vr(n[0])){r.push(new rr(t.segments[e].path,n[0])),i++;continue}const o=Fr(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Vr(s)?(r.push(new rr(o,Gr(s))),i+=2):(r.push(new rr(o,{})),i++)}return new nr(r,{})}function Br(t){const e={};return Zn(t,(t,n)=>{null!==t&&(e[n]=zr(new nr([],{}),0,t))}),e}function Gr(t){const e={};return Zn(t,(t,n)=>e[n]=""+t),e}function $r(t,e,n){return t==n.path&&Qn(e,n.parameters)}class Kr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ir(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Zn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ir(t),i=t.value.component?n.children:e;Zn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ir(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Un(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qr(t){Dr(t.value),t.children.forEach(Qr)}class Wr{constructor(t,e){this.routes=t,this.module=e}}function Yr(t){return"function"==typeof t}function Xr(t){return t instanceof er}const Zr=Symbol("INITIAL_VALUE");function Jr(){return on(t=>function(...t){let e=void 0,n=void 0;return Object(Se.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(vt.a)(t[0])&&(t=t[0]),Object(Pe.a)(t,n).lift(new Re(e))}(...t.map(t=>t.pipe(un(1),fn(Zr)))).pipe(dn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Zr)return t;if(r===Zr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xr(r))return r}return t},t)},Zr),He(t=>t!==Zr),Object(mt.a)(t=>Xr(t)?t:!0===t),un(1)))}class ti{constructor(t){this.segmentGroup=t||null}}class ei{constructor(t){this.urlTree=t}}function ni(t){return new yt.a(e=>e.error(new ti(t)))}function ri(t){return new yt.a(e=>e.error(new ei(t)))}function ii(t){return new yt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class oi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,zn).pipe(Object(mt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(yn(t=>{if(t instanceof ei)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ti)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,zn).pipe(Object(mt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(yn(t=>{if(t instanceof ti)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new nr([],{[zn]:t}):t;return new er(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(mt.a)(t=>new nr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ee.a)({});const n=[],r=[],i={};return Zn(t,(t,o)=>{const s=e(o,t).pipe(Object(mt.a)(t=>i[o]=t));o===zn?n.push(s):r.push(s)}),Ee.a.apply(null,n.concat(r)).pipe(qe(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?He((e,n)=>t(e,n,r)):nn.a,$e(1),n?Je(e):We(()=>new Le))}(),Object(mt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Ee.a)(...n).pipe(wn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(yn(t=>{if(t instanceof ti)return Object(Ee.a)(null);throw t}))),_n(t=>!!t),yn((t,n)=>{if(t instanceof Le||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ee.a)(new nr([],{}));throw new ti(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ci(r)!==o?ni(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ni(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ri(i):this.lineralizeSegments(n,i).pipe(Object(bn.a)(n=>{const i=new nr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=si(e,r,i);if(!s)return ni(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ri(l):this.lineralizeSegments(r,l).pipe(Object(bn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(mt.a)(t=>(n._loadedConfig=t,new nr(r,{})))):Object(Ee.a)(new nr(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=si(e,n,r);if(!i)return ni(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(bn.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ui(t,e,n)&&ci(n)!==zn)}(t,n,r)?{segmentGroup:ai(new nr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ci(r)!==zn&&(n[ci(r)]=new nr([],{}));return n}(r,new nr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ui(t,e,n))}(t,n,r)?{segmentGroup:ai(new nr(t.segments,function(t,e,n,r){const i={};for(const o of n)ui(t,e,o)&&!r[ci(o)]&&(i[ci(o)]=new nr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(mt.a)(t=>new nr(o,t))):0===r.length&&0===s.length?Object(Ee.a)(new nr(o,{})):this.expandSegment(n,i,r,s,zn,!0).pipe(Object(mt.a)(t=>new nr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ee.a)(new Wr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ee.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(bn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(mt.a)(t=>(e._loadedConfig=t,t))):function(t){return new yt.a(e=>e.error($n(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ee.a)(new Wr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ee.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Yr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Yr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Jn(o)});return Object(Ee.a)(i).pipe(Jr(),Object(On.a)(t=>{if(!Xr(t))return;const e=$n(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(mt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ee.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ii(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new er(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Zn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Zn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new nr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function si(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Kn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ai(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new nr(t.segments.concat(e.segments),e.children)}return t}function ui(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ci(t){return t.outlet||zn}class li{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hi{constructor(t,e){this.component=t,this.route=e}}function fi(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ir(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ir(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ir(t.url,e.url)||!Qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(t,e)||!Qn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rr(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new li(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new hi(u.outlet.component,a))}else a&&pi(n,u,o),o.canActivateChecks.push(new li(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Zn(s,(t,e)=>pi(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function di(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function pi(t,e,n){const r=Ir(t),i=t.value;Zn(r,(t,r)=>{pi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new hi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function gi(t,e){return null!==t&&e&&e(new Fn(t)),Object(Ee.a)(!0)}function yi(t,e){return null!==t&&e&&e(new Mn(t)),Object(Ee.a)(!0)}function vi(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ee.a)(!0);const i=r.map(r=>Ue(()=>{const i=di(r,e,n);let o;if(function(t){return t&&Yr(t.canActivate)}(i))o=Jn(i.canActivate(e,t));else{if(!Yr(i))throw new Error("Invalid CanActivate guard");o=Jn(i(e,t))}return o.pipe(_n())}));return Object(Ee.a)(i).pipe(Jr())}function mi(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ue(()=>{const i=e.guards.map(i=>{const o=di(i,e.node,n);let s;if(function(t){return t&&Yr(t.canActivateChild)}(o))s=Jn(o.canActivateChild(r,t));else{if(!Yr(o))throw new Error("Invalid CanActivateChild guard");s=Jn(o(r,t))}return s.pipe(_n())});return Object(Ee.a)(i).pipe(Jr())}));return Object(Ee.a)(i).pipe(Jr())}class bi{}class wi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ei(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,zn),n=new Ar([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cr(n,e),i=new kr(this.url,r);return this.inheritParamsAndData(i._root),Object(Ee.a)(i)}catch(Rb){return new yt.a(e=>e.error(Rb))}}inheritParamsAndData(t){const e=t.value,n=jr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=or(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===zn?-1:e.value.outlet===zn?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Rb){if(!(Rb instanceof bi))throw Rb}if(this.noLeftoversInUrl(e,n,r))return[];throw new bi}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new bi;if((t.outlet||zn)!==r)throw new bi;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Xn(n).parameters:{};i=new Ar(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ti(t),r,t.component,t,_i(e),Oi(e)+n.length,Si(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new bi;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Kn)(n,t,e);if(!r)throw new bi;const i={};Zn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Ar(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ti(t),r,t.component,t,_i(e),Oi(e)+o.length,Si(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ei(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Cr(i,t)]}if(0===a.length&&0===c.length)return[new Cr(i,[])];const l=this.processSegment(a,u,c,zn);return[new Cr(i,l)]}}function _i(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Oi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ei(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ci(t,e,n)&&Ii(n)!==zn)}(t,n,r)){const i=new nr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ii(o)!==zn){const n=new nr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ii(o)]=n}return i}(t,e,r,new nr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ci(t,e,n))}(t,n,r)){const o=new nr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ci(t,n,a)&&!i[Ii(a)]){const n=new nr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ii(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new nr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ci(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ii(t){return t.outlet||zn}function Ti(t){return t.data||{}}function Si(t){return t.resolve||{}}function xi(t){return function(e){return e.pipe(on(e=>{const n=t(e);return n?Object(wt.a)(n).pipe(Object(mt.a)(()=>e)):Object(wt.a)([e])}))}}class ji extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[$i]},encapsulation:2}),t})();function ki(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ni(r,Pi(e,r))}}function Ni(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==zn)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ki(t.children,e)}function Pi(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Di(t){const e=t.children&&t.children.map(Di),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==zn&&(n.component=Ai),n}const Ri=new r.q("ROUTES");class Vi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(mt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Wr(Yn(r.injector.get(Ri)).map(Di),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(wt.a)(this.loader.load(t)):Jn(t()).pipe(Object(bn.a)(t=>t instanceof r.v?Object(Ee.a)(t):Object(wt.a)(this.compiler.compileModuleAsync(t))))}}class Li{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mi,this.attachRef=null}}class Mi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Li,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ui{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fi(t){throw t}function qi(t,e,n){return e.parse("/")}function Hi(t,e){return Object(Ee.a)(null)}let zi=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ce.a,this.errorHandler=Fi,this.malformedUriErrorHandler=qi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hi,afterPreactivation:Hi},this.urlHandlingStrategy=new Ui,this.routeReuseStrategy=new ji,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new er(new nr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vi(s,a,t=>this.triggerEvent(new Vn(t)),t=>this.triggerEvent(new Ln(t))),this.routerState=Sr(this.currentUrlTree,this.rootComponentType),this.transitions=new Te({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(He(t=>0!==t.id),Object(mt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),on(t=>{let n=!1,r=!1;return Object(Ee.a)(t).pipe(Object(On.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ee.a)(t).pipe(on(t=>{const n=this.transitions.getValue();return e.next(new Sn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Me.a:[t]}),on(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(on(t=>function(t,e,n,r,i){return new oi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(mt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(On.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(bn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new wi(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(mt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(On.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(On.a)(t=>{const n=new kn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Sn(n,this.serializeUrl(r),i,o);e.next(a);const u=Sr(r,this.rootComponentType).snapshot;return Object(Ee.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Me.a}),xi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(On.a)(t=>{const e=new Nn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(mt.a)(t=>Object.assign(Object.assign({},t),{guards:fi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(bn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ee.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(wt.a)(t).pipe(Object(bn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ee.a)(!0);const s=o.map(o=>{const s=di(o,e,i);let a;if(function(t){return t&&Yr(t.canDeactivate)}(s))a=Jn(s.canDeactivate(t,e,n,r));else{if(!Yr(s))throw new Error("Invalid CanDeactivate guard");a=Jn(s(t,e,n,r))}return a.pipe(_n())});return Object(Ee.a)(s).pipe(Jr())}(t.component,t.route,n,e,r)),_n(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(bn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(wt.a)(e).pipe(wn(e=>Object(wt.a)([yi(e.route.parent,r),gi(e.route,r),mi(t,e.path,n),vi(t,e.route,n)]).pipe(qe(),_n(t=>!0!==t,!0))),_n(t=>!0!==t,!0))}(r,o,t,e):Object(Ee.a)(n)),Object(mt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(On.a)(t=>{if(Xr(t.guardsResult)){const e=$n(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(On.a)(t=>{const e=new Pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),He(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new jn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xi(t=>{if(t.guards.canActivateChecks.length)return Object(Ee.a)(t).pipe(Object(On.a)(t=>{const e=new Dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),on(t=>{let n=!1;return Object(Ee.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(bn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ee.a)(t);let o=0;return Object(wt.a)(n).pipe(wn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ee.a)({});const o={};return Object(wt.a)(i).pipe(Object(bn.a)(i=>function(t,e,n,r){const i=di(t,e,r);return Jn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(On.a)(t=>{o[i]=t}))),$e(1),Object(bn.a)(()=>Object.keys(o).length===i.length?Object(Ee.a)(o):Me.a))}(t._resolve,t,e,r).pipe(Object(mt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jr(t,n).resolve),null)))}(t.route,e,r,i)),Object(On.a)(()=>o++),$e(1),Object(bn.a)(e=>o===n.length?Object(Ee.a)(t):Me.a))}))}),Object(On.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new jn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(On.a)(t=>{const e=new Rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),xi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(mt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Cr(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new xr(new Te((i=n.value).url),new Te(i.params),new Te(i.queryParams),new Te(i.fragment),new Te(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Cr(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Tr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(On.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(mt.a)(t=>(new Kr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(On.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new jn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Cn(i))),yn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Xr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new jn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new An(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ih){t.reject(ih)}}var i;return Me.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ki(t),this.config=t.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Lr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Zn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mr(n,e,r)}(n);if(o.toRoot())return Lr(e.root,new nr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Ur(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ur(t,t===e.root,0)}const r=Vr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ur(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Hr(s.segmentGroup,s.index,o.commands):qr(s.segmentGroup,s.index,o.commands);return Lr(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Xr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Rb){e=this.malformedUriErrorHandler(Rb,this.urlSerializer,t)}return e}isActive(t,e){if(Xr(t))return tr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(sr),r.Pb(Mi),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Bi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ce.a,this.subscription=t.events.subscribe(t=>{t instanceof xn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Gi(this.skipLocationChange),replaceUrl:Gi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Gi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Gi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zi),r.Ib(xr),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Ob("href",e.href,r.ac),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Gi(t){return""===t||!!t}let $i=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||zn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ki(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mi),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ki{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xr?this.route:t===Mi?this.childContexts:this.parent.get(t,e)}}class Qi{}class Wi{preload(t,e){return Object(Ee.a)(null)}}let Yi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Vi(e,n,e=>t.triggerEvent(new Vn(e)),e=>t.triggerEvent(new Ln(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(He(t=>t instanceof xn),wn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(wt.a)(n).pipe(Object(Fe.a)(),Object(mt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(bn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zi),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Qi))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Xi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Hn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zi),r.Pb(M),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Zi=new r.q("ROUTER_CONFIGURATION"),Ji=new r.q("ROUTER_FORROOT_GUARD"),to=[O,{provide:sr,useClass:ar},{provide:zi,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new zi(null,t,e,n,r,i,o,Yn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[sr,Mi,O,r.r,r.w,r.i,Ri,Zi,[class{},new r.A],[class{},new r.A]]},Mi,{provide:xr,useFactory:function(t){return t.routerState.root},deps:[zi]},{provide:r.w,useClass:r.J},Yi,Wi,class{preload(t,e){return e().pipe(yn(()=>Object(Ee.a)(null)))}},{provide:Zi,useValue:{enableTracing:!1}}];function eo(){return new r.y("Router",zi)}let no=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[to,so(e),{provide:Ji,useFactory:oo,deps:[[zi,new r.A,new r.I]]},{provide:Zi,useValue:n||{}},{provide:v,useFactory:io,deps:[u,[new r.p(b),new r.A],Zi]},{provide:Xi,useFactory:ro,deps:[zi,M,Zi]},{provide:Qi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wi},{provide:r.y,multi:!0,useFactory:eo},[ao,{provide:r.d,multi:!0,useFactory:uo,deps:[ao]},{provide:lo,useFactory:co,deps:[ao]},{provide:r.b,multi:!0,useExisting:lo}]]}}static forChild(e){return{ngModule:t,providers:[so(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Ji,8),r.Pb(zi,8))}}),t})();function ro(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xi(t,e,n)}function io(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function oo(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function so(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ri,multi:!0,useValue:t}]}let ao=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ce.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zi),r=this.injector.get(Zi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ee.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Zi),n=this.injector.get(Yi),i=this.injector.get(Xi),o=this.injector.get(zi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function uo(t){return t.appInitializer.bind(t)}function co(t){return t.bootstrapListener.bind(t)}const lo=new r.q("Router Initializer"),ho=function(t){return{animated:t}};let fo=(()=>{class t{constructor(t){this.router=t,this.animated=!1}ngOnInit(){}onClick(){this.animated=!this.animated,setTimeout(()=>{this.router.navigateByUrl("/home")},3e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-start"]],decls:7,vars:3,consts:[[1,"main"],[1,"header"],[3,"ngClass"],[1,"footer"],[3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"h3",2),r.dc(3,"Portfolio"),r.Kb(),r.Kb(),r.Lb(4,"div",3),r.Lb(5,"button",4),r.Sb("click",(function(){return e.onClick()})),r.dc(6,"Comenzar"),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(2),r.Vb("ngClass",r.Wb(1,ho,e.animated)))},directives:[j],styles:[".animated[_ngcontent-%COMP%]{animation-name:example;animation-duration:4s}.main[_ngcontent-%COMP%]{margin:10% 50% 50% 40%;box-sizing:border-box}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:100px;color:hsla(0,0%,100%,.5)}.main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:42px;font-family:Times New Roman,Times,serif}.main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;margin-top:100px;margin-left:30px;padding:4px;font-size:20px;background-color:transparent;border:1px solid hsla(0,0%,100%,.5);border-radius:10px}.main[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]}),t})();var po=n("Jgta"),go=n("D0XW");function yo(){return t=>t.lift(new vo)}class vo{call(t,e){return e.subscribe(new mo(t))}}class mo extends xe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class bo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new wo(t,this.compare,this.keySelector))}}class wo extends xe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var _o=n("pxpQ"),Oo=n("spgP"),Eo=n("zIRd"),Co=n("q/0M"),Io=n("qOnz"),To=function(t,e){return(To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function So(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var xo,jo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ao=Ao||{},ko=jo||self;function No(){}function Po(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Do(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ro="closure_uid_"+(1e9*Math.random()>>>0),Vo=0;function Lo(t,e,n){return t.call.apply(t.bind,arguments)}function Mo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Uo(t,e,n){return(Uo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lo:Mo).apply(null,arguments)}function Fo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function qo(){return Date.now()}function Ho(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function zo(){this.j=this.j,this.i=this.i}zo.prototype.j=!1,zo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ro)&&t[Ro]||(t[Ro]=++Vo)}(this)},zo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Go=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function $o(t){return Array.prototype.concat.apply([],arguments)}function Ko(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qo(t){return/^[\s\xa0]*$/.test(t)}var Wo,Yo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xo(t,e){return-1!=t.indexOf(e)}function Zo(t,e){return t<e?-1:t>e?1:0}t:{var Jo=ko.navigator;if(Jo){var ts=Jo.userAgent;if(ts){Wo=ts;break t}}Wo=""}function es(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ns(t){var e={};for(var n in t)e[n]=t[n];return e}var rs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function is(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<rs.length;o++)n=rs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function os(t){return os[" "](t),t}os[" "]=No;var ss,as,us=Xo(Wo,"Opera"),cs=Xo(Wo,"Trident")||Xo(Wo,"MSIE"),ls=Xo(Wo,"Edge"),hs=ls||cs,fs=Xo(Wo,"Gecko")&&!(Xo(Wo.toLowerCase(),"webkit")&&!Xo(Wo,"Edge"))&&!(Xo(Wo,"Trident")||Xo(Wo,"MSIE"))&&!Xo(Wo,"Edge"),ds=Xo(Wo.toLowerCase(),"webkit")&&!Xo(Wo,"Edge");function ps(){var t=ko.document;return t?t.documentMode:void 0}t:{var gs="",ys=(as=Wo,fs?/rv:([^\);]+)(\)|;)/.exec(as):ls?/Edge\/([\d\.]+)/.exec(as):cs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(as):ds?/WebKit\/(\S+)/.exec(as):us?/(?:Version)[ \/]?(\S+)/.exec(as):void 0);if(ys&&(gs=ys?ys[1]:""),cs){var vs=ps();if(null!=vs&&vs>parseFloat(gs)){ss=String(vs);break t}}ss=gs}var ms={};function bs(t){return function(t,e){var n=ms;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Yo(String(ss)).split("."),r=Yo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Zo(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Zo(0==s[2].length,0==a[2].length)||Zo(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var ws=ko.document&&cs&&(ps()||parseInt(ss,10))||void 0,_s=!cs||9<=Number(ws),Os=cs&&!bs("9"),Es=function(){if(!ko.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ko.addEventListener("test",No,e),ko.removeEventListener("test",No,e)}catch(n){}return t}();function Cs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Is(t,e){if(Cs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(fs){t:{try{os(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ts[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Cs.prototype.b=function(){this.defaultPrevented=!0},Ho(Is,Cs);var Ts={2:"touch",3:"pen",4:"mouse"};Is.prototype.b=function(){Is.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Os)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ss="closure_listenable_"+(1e6*Math.random()|0),xs=0;function js(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++xs,this.Y=this.Z=!1}function As(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ks(t){this.src=t,this.a={},this.b=0}function Ns(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Bo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(As(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ps(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ks.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ps(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new js(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ds="closure_lm_"+(1e6*Math.random()|0),Rs={};function Vs(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Bs(r),e&&e[Ss]?e.wa(n,r,Do(i)?!!i.capture:!!i,o):Ls(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vs(t,e[o],n,r,i);return null}return n=Bs(n),t&&t[Ss]?t.va(e,n,Do(r)?!!r.capture:!!r,i):Ls(t,e,n,!1,r,i)}function Ls(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Do(i)?!!i.capture:!!i;if(s&&!_s)return null;var a=Hs(t);if(a||(t[Ds]=a=new ks(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=qs,e=_s?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Es||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Us(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ms(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ss])Ns(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Us(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hs(e))?(Ns(n,t),0==n.b&&(n.src=null,e[Ds]=null)):As(t)}}}function Us(t){return t in Rs?Rs[t]:Rs[t]="on"+t}function Fs(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ms(t),n.call(r,e)}function qs(t,e){if(t.Y)return!0;if(!_s){if(!e)t:{e=["window","event"];for(var n=ko,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Fs(t,e=new Is(e,this))}return Fs(t,new Is(e,this))}function Hs(t){return(t=t[Ds])instanceof ks?t:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(t){return"function"==typeof t?t:(t[zs]||(t[zs]=function(e){return t.handleEvent(e)}),t[zs])}function Gs(){zo.call(this),this.c=new ks(this),this.J=this,this.C=null}function $s(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Cs(e,t);else if(e instanceof Cs)e.target=e.target||t;else{var i=e;is(e=new Cs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ks(s,r,!0,e)&&i}if(i=Ks(s=e.a=t,r,!0,e)&&i,i=Ks(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ks(s=e.a=n[o],r,!1,e)&&i}function Ks(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Ns(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ho(Gs,zo),Gs.prototype[Ss]=!0,(xo=Gs.prototype).addEventListener=function(t,e,n,r){Vs(this,t,e,n,r)},xo.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Do(i)?!!i.capture:!!i,r=Bs(r),e&&e[Ss]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ps(s=e.a[n],r,i,o))&&(As(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Hs(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Ps(n,r,i,o)),(r=-1<e?n[e]:null)&&Ms(r))}(this,t,e,n,r)},xo.G=function(){if(Gs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)As(n[r]);delete e.a[t],e.b--}}this.C=null},xo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},xo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Qs=ko.JSON.stringify;function Ws(){this.b=this.a=null}var Ys,Xs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Js}),(function(t){t.reset()}));function Zs(){var t=ra,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Js(){this.next=this.b=this.a=null}function ta(t){ko.setTimeout((function(){throw t}),0)}function ea(t,e){Ys||function(){var t=ko.Promise.resolve(void 0);Ys=function(){t.then(ia)}}(),na||(Ys(),na=!0),ra.add(t,e)}Ws.prototype.add=function(t,e){var n=Xs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Js.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Js.prototype.reset=function(){this.next=this.b=this.a=null};var na=!1,ra=new Ws;function ia(){for(var t;t=Zs();){try{t.a.call(t.b)}catch(n){ta(n)}var e=Xs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}na=!1}function oa(t,e){Gs.call(this),this.b=t||1,this.a=e||ko,this.f=Uo(this.Za,this),this.g=qo()}function sa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function aa(t,e,n){if("function"==typeof t)n&&(t=Uo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Uo(t.handleEvent,t)}return 2147483647<Number(e)?-1:ko.setTimeout(t,e||0)}function ua(t){t.a=aa((function(){t.a=null,t.c&&(t.c=!1,ua(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ho(oa,Gs),(xo=oa.prototype).aa=!1,xo.M=null,xo.Za=function(){if(this.aa){var t=qo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),$s(this,"tick"),this.aa&&(sa(this),this.start()))}},xo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qo())},xo.G=function(){oa.X.G.call(this),sa(this),delete this.a};var ca=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}To(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ua(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ko.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(zo);function la(t){zo.call(this),this.b=t,this.a={}}Ho(la,zo);var ha=[];function fa(t,e,n,r){Array.isArray(n)||(n&&(ha[0]=n.toString()),n=ha);for(var i=0;i<n.length;i++){var o=Vs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function da(t){es(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ms(t)}),t),t.a={}}function pa(){this.a=!0}function ga(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}la.prototype.G=function(){la.X.G.call(this),da(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pa.prototype.info=function(){};var ya={},va=null;function ma(){return va=va||new Gs}function ba(t){Cs.call(this,ya.Fa,t)}function wa(t){var e=ma();$s(e,new ba(e,t))}function _a(t,e){Cs.call(this,ya.STAT_EVENT,t),this.stat=e}function Oa(t){var e=ma();$s(e,new _a(e,t))}function Ea(t){Cs.call(this,ya.Ga,t)}function Ca(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ko.setTimeout((function(){t()}),e)}ya.Fa="serverreachability",Ho(ba,Cs),ya.STAT_EVENT="statevent",Ho(_a,Cs),ya.Ga="timingevent",Ho(Ea,Cs);var Ia={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ta={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Sa(){}function xa(){}Sa.prototype.a=null;var ja,Aa={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ka(){Cs.call(this,"d")}function Na(){Cs.call(this,"c")}function Pa(){}function Da(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new la(this),this.P=Ra,this.R=new oa(t=hs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ho(ka,Cs),Ho(Na,Cs),Ho(Pa,Sa),ja=new Pa;var Ra=45e3,Va={},La={};function Ma(t,e,n){t.H=1,t.i=su(tu(e)),t.j=n,t.I=!0,Ua(t,null)}function Ua(t,e){t.u=qo(),Ha(t),t.l=tu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),bu(n.b,"t",r),t.D=0,t.a=dc(t.g,t.g.C?e:null),0<t.O&&(t.F=new ca(Uo(t.Ca,t,t.a),t.O)),fa(t.J,t.a,"readystatechange",t.Xa),e=t.B?ns(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),wa(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=qa(t,n);if(i==La){4==e&&(t.h=4,Oa(14),r=!1),ga(t.c,t.f,null,"[Incomplete Response]");break}if(i==Va){t.h=4,Oa(15),ga(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ga(t.c,t.f,i,null),Ka(t,i)}4==e&&0==n.length&&(t.h=1,Oa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),oc(e),e.F=!0,Oa(11))):(ga(t.c,t.f,n,"[Invalid Chunked Response]"),$a(t),Ga(t))}function qa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?La:(n=Number(e.substring(n,r)),isNaN(n)?Va:(r+=1)+n>e.length?La:(e=e.substr(r,n),t.D=r+n,e))}function Ha(t){t.T=qo()+t.P,za(t,t.P)}function za(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ca(Uo(t.Va,t),e)}function Ba(t){t.o&&(ko.clearTimeout(t.o),t.o=null)}function Ga(t){0==t.g.v||t.A||uc(t.g,t)}function $a(t){Ba(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,sa(t.R),da(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ka(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Tu(n.b,t)))if(n.I=t.N,!t.C&&Tu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Qm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ac(n),Yu(n)}ic(n),Oa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ca(Uo(n.Sa,n),6e3));if(1>=Iu(n.b)&&n.ea){try{n.ea()}catch(Qm){}n.ea=void 0}}else lc(n,11)}else if((t.C||n.a==t)&&ac(n),!Qo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Xo(l,"spdy")||Xo(l,"quic")||Xo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Su(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ou(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=qo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=fc(u,u.C?u.ga:null,u.fa),d.C){xu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ba(p),Ha(p)),u.a=d}else rc(u);0<n.g.length&&Ju(n)}else"stop"!=i[0]&&"close"!=i[0]||lc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?lc(n,7):Wu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);wa(4)}catch(Qm){}}function Qa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Po(t)||"string"==typeof t)Go(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Po(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Po(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Wa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Wa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ya(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Xa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Xa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(xo=Da.prototype).setTimeout=function(t){this.P=t},xo.Xa=function(t){t=t.target;var e=this.F;e&&3==Gu(t)?e.f():this.Ca(t)},xo.Ca=function(t){try{if(t==this.a)t:{var e=Gu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!hs&&!this.a.$())){this.A||4!=e||7==n||wa(8==n||0>=r?3:2),Ba(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Oa(12),$a(this),Ga(this);break t}ga(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ka(this,u)}this.I?(Fa(this,e,o),hs&&this.b&&3==e&&(fa(this.J,this.R,"tick",this.Wa),this.R.start())):(ga(this.c,this.f,o,null),Ka(this,o)),4==e&&$a(this),this.b&&!this.A&&(4==e?uc(this.g,this):(this.b=!1,Ha(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Oa(12)):(this.h=0,Oa(13)),$a(this),Ga(this)}}}catch(c){}},xo.Wa=function(){if(this.a){var t=Gu(this.a),e=this.a.$();this.D<e.length&&(Ba(this),Fa(this,t,e),this.b&&4!=t&&Ha(this))}},xo.cancel=function(){this.A=!0,$a(this)},xo.Va=function(){this.o=null;var t=qo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(wa(3),Oa(17)),$a(this),this.h=2,Ga(this)):za(this,this.T-t)},(xo=Wa.prototype).K=function(){Ya(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},xo.L=function(){return Ya(this),this.a.concat()},xo.get=function(t,e){return Xa(this.b,t)?this.b[t]:e},xo.set=function(t,e){Xa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},xo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Za=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ja){this.a=void 0!==e?e:t.a,eu(this,t.f),this.j=t.j,nu(this,t.c),ru(this,t.h),this.g=t.g,e=t.b;var n=new gu;n.c=e.c,e.a&&(n.a=new Wa(e.a),n.b=e.b),iu(this,n),this.i=t.i}else t&&(n=String(t).match(Za))?(this.a=!!e,eu(this,n[1]||"",!0),this.j=au(n[2]||""),nu(this,n[3]||"",!0),ru(this,n[4]),this.g=au(n[5]||"",!0),iu(this,n[6]||"",!0),this.i=au(n[7]||"")):(this.a=!!e,this.b=new gu(null,this.a))}function tu(t){return new Ja(t)}function eu(t,e,n){t.f=n?au(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nu(t,e,n){t.c=n?au(e,!0):e}function ru(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function iu(t,e,n){e instanceof gu?(t.b=e,function(t,e){e&&!t.f&&(yu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vu(this,e),bu(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=uu(e,du)),t.b=new gu(e,t.a))}function ou(t,e,n){t.b.set(e,n)}function su(t){return ou(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qo()).toString(36)),t}function au(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ja.prototype.toString=function(){var t=[],e=this.f;e&&t.push(uu(e,lu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(uu(e,lu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(uu(n,"/"==n.charAt(0)?fu:hu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",uu(n,pu)),t.join("")};var lu=/[#\/\?@]/g,hu=/[#\?:]/g,fu=/[#\?]/g,du=/[#\?@]/g,pu=/#/g;function gu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function yu(t){t.a||(t.a=new Wa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vu(t,e){yu(t),e=wu(t,e),Xa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Xa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ya(t)))}function mu(t,e){return yu(t),e=wu(t,e),Xa(t.a.b,e)}function bu(t,e,n){vu(t,e),0<n.length&&(t.c=null,t.a.set(wu(t,e),Ko(n)),t.b+=n.length)}function wu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(xo=gu.prototype).add=function(t,e){yu(this),this.c=null,t=wu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},xo.forEach=function(t,e){yu(this),this.a.forEach((function(n,r){Go(n,(function(n){t.call(e,n,r,this)}),this)}),this)},xo.L=function(){yu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},xo.K=function(t){yu(this);var e=[];if("string"==typeof t)mu(this,t)&&(e=$o(e,this.a.get(wu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=$o(e,t[n])}return e},xo.set=function(t,e){return yu(this),this.c=null,mu(this,t=wu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},xo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},xo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var _u=function(){return function(t,e){this.b=t,this.a=e}}();function Ou(t){this.g=t||Eu,t=ko.PerformanceNavigationTiming?0<(t=ko.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ko.ia&&ko.ia.ya&&ko.ia.ya()&&ko.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Eu=10;function Cu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Iu(t){return t.b?1:t.a?t.a.size:0}function Tu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Su(t,e){t.a?t.a.add(e):t.b=e}function xu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ju(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=So(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ko(t.c)}function Au(){}function ku(){this.a=new Au}function Nu(t,e,n){var r=n||"";try{Qa(t,(function(t,n){var i=t;Do(t)&&(i=Qs(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Rb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Rb}}function Pu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ou.prototype.cancel=function(){var t,e;if(this.c=ju(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=So(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Au.prototype.stringify=function(t){return ko.JSON.stringify(t,void 0)},Au.prototype.parse=function(t){return ko.JSON.parse(t,void 0)};var Du=ko.JSON.parse;function Ru(t){Gs.call(this),this.headers=new Wa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vu,this.D=this.F=!1}Ho(Ru,Gs);var Vu="",Lu=/^https?$/i,Mu=["POST","PUT"];function Uu(t){return"content-type"==t.toLowerCase()}function Fu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,qu(t),zu(t)}function qu(t){t.u||(t.u=!0,$s(t,"complete"),$s(t,"error"))}function Hu(t){if(t.b&&void 0!==Ao&&(!t.s[1]||4!=Gu(t)||2!=t.W()))if(t.l&&4==Gu(t))aa(t.za,0,t);else if($s(t,"readystatechange"),4==Gu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Za)[1]||null;if(!o&&ko.self&&ko.self.location){var s=ko.self.location.protocol;o=s.substr(0,s.length-1)}i=!Lu.test(o?o.toLowerCase():"")}e=i}if(e)$s(t,"complete"),$s(t,"success");else{t.h=6;try{var a=2<Gu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",qu(t)}}finally{zu(t)}}}function zu(t,e){if(t.a){Bu(t);var n=t.a,r=t.s[0]?No:null;t.a=null,t.s=null,e||$s(t,"ready");try{n.onreadystatechange=r}catch(Rb){}}}function Bu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ko.clearTimeout(t.m),t.m=null)}function Gu(t){return t.a?t.a.readyState:0}function $u(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return es(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ou(t,e,n))}function Ku(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qu(t){this.pa=0,this.g=[],this.c=new pa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ku("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ku("baseRetryDelayMs",5e3,t),this.Ra=Ku("retryDelaySeedMs",1e4,t),this.Ma=Ku("forwardChannelMaxRetries",2,t),this.ma=Ku("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ou(t&&t.concurrentRequestLimit),this.ka=new ku,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Wu(t){if(Xu(t),3==t.v){var e=t.R++,n=tu(t.B);ou(n,"SID",t.J),ou(n,"RID",e),ou(n,"TYPE","terminate"),ec(t,n),(e=new Da(t,t.c,e,void 0)).H=2,e.i=su(tu(n)),n=!1,ko.navigator&&ko.navigator.sendBeacon&&(n=ko.navigator.sendBeacon(e.i.toString(),"")),!n&&ko.Image&&((new Image).src=e.i,n=!0),n||(e.a=dc(e.g,null),e.a.ba(e.i)),e.u=qo(),Ha(e)}hc(t)}function Yu(t){t.a&&(oc(t),t.a.cancel(),t.a=null)}function Xu(t){Yu(t),t.j&&(ko.clearTimeout(t.j),t.j=null),ac(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ko.clearTimeout(t.h),t.h=null)}function Zu(t,e){t.g.push(new _u(t.Oa++,e)),3==t.v&&Ju(t)}function Ju(t){Cu(t.b)||t.h||(t.h=!0,ea(t.Ba,t),t.u=0)}function tc(t,e){var n;n=e?e.f:t.R++;var r=tu(t.B);ou(r,"SID",t.J),ou(r,"RID",n),ou(r,"AID",t.P),ec(t,r),t.i&&t.l&&$u(r,t.i,t.l),n=new Da(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=nc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Su(t.b,n),Ma(n,r,e)}function ec(t,e){t.f&&Qa({},(function(t,n){ou(e,n,t)}))}function nc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Uo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Nu(l,s,"req"+c+"_")}catch(Wc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function rc(t){t.a||t.j||(t.T=1,ea(t.Aa,t),t.o=0)}function ic(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ca(Uo(t.Aa,t),cc(t,t.o)),t.o++,0))}function oc(t){null!=t.s&&(ko.clearTimeout(t.s),t.s=null)}function sc(t){t.a=new Da(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=tu(t.la);ou(e,"RID","rpc"),ou(e,"SID",t.J),ou(e,"CI",t.H?"0":"1"),ou(e,"AID",t.P),ec(t,e),ou(e,"TYPE","xmlhttp"),t.i&&t.l&&$u(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=su(tu(e)),n.j=null,n.I=!0,Ua(n,t)}function ac(t){null!=t.m&&(ko.clearTimeout(t.m),t.m=null)}function uc(t,e){var n=null;if(t.a==e){ac(t),oc(t),t.a=null;var r=2}else{if(!Tu(t.b,e))return;n=e.s,xu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qo()-e.u;var i=t.u;$s(r=ma(),new Ea(r,n,e,i)),Ju(t)}else rc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Iu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ca(Uo(t.Ba,t,e),cc(t,t.u)),t.u++,0)))}(t,e)||2==r&&ic(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:lc(t,5);break;case 4:lc(t,10);break;case 3:lc(t,6);break;default:lc(t,2)}}function cc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function lc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Uo(t.Ya,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),ko.location&&"http"==ko.location.protocol||eu(n,"https"),su(n)),function(t,e){var n=new pa;if(ko.Image){var r=new Image;r.onload=Fo(Pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fo(Pu,n,r,"TestLoadImage: error",!1,e),r.onabort=Fo(Pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fo(Pu,n,r,"TestLoadImage: timeout",!1,e),ko.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Oa(2);t.v=0,t.f&&t.f.ra(e),hc(t),Xu(t)}function hc(t){t.v=0,t.I=-1,t.f&&(0==ju(t.b).length&&0==t.g.length||(t.b.c.length=0,Ko(t.g),t.g.length=0),t.f.qa())}function fc(t,e,n){var r=function(t){return t instanceof Ja?tu(t):new Ja(t,void 0)}(n);if(""!=r.c)e&&nu(r,e+"."+r.c),ru(r,r.h);else{var i=ko.location;r=function(t,e,n,r){var i=new Ja(null,void 0);return t&&eu(i,t),e&&nu(i,e),n&&ru(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&es(t.V,(function(t,e){ou(r,e,t)})),n=t.na,(e=t.A)&&n&&ou(r,e,n),ou(r,"VER",t.ha),ec(t,r),r}function dc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ru(t.Na)).F=t.C,e}function pc(){}function gc(){if(cs&&!(10<=Number(ws)))throw Error("Environmental error: no available transport.")}function yc(t,e){Gs.call(this),this.a=new Qu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Qo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new bc(this)}function vc(t){ka.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function mc(){Na.call(this),this.status=1}function bc(t){this.a=t}(xo=Ru.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ja),this.a.onreadystatechange=Uo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Fu(this,o)}t=n||"";var i=new Wa(this.headers);r&&Qa(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Uu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ko.FormData&&t instanceof ko.FormData,!(0<=Bo(Mu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bu(this),0<this.o&&((this.D=function(t){return cs&&bs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Uo(this.xa,this)):this.m=aa(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Fu(this,o)}},xo.xa=function(){void 0!==Ao&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,$s(this,"timeout"),this.abort(8))},xo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,$s(this,"complete"),$s(this,"abort"),zu(this))},xo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),zu(this,!0)),Ru.X.G.call(this)},xo.za=function(){this.j||(this.A||this.l||this.g?Hu(this):this.Ua())},xo.Ua=function(){Hu(this)},xo.W=function(){try{return 2<Gu(this)?this.a.status:-1}catch(as){return-1}},xo.$=function(){try{return this.a?this.a.responseText:""}catch(as){return""}},xo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Du(e)}},xo.ua=function(){return this.h},xo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(xo=Qu.prototype).ha=8,xo.v=1,xo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Da(this,this.c,t,void 0),r=this.l;if(this.O&&(r?is(r=ns(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=nc(this,n,e),ou(i=tu(this.B),"RID",t),ou(i,"CVER",22),this.A&&ou(i,"X-HTTP-Session-Id",this.A),ec(this,i),this.i&&r&&$u(i,this.i,r),Su(this.b,n),this.Ia&&ou(i,"TYPE","init"),this.da?(ou(i,"$req",e),ou(i,"SID","null"),n.U=!0,Ma(n,i,null)):Ma(n,i,e),this.v=2}}else 3==this.v&&(t?tc(this,t):0==this.g.length||Cu(this.b)||tc(this))},xo.Aa=function(){if(this.j=null,sc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ca(Uo(this.Ta,this),t)}},xo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Oa(10),Yu(this),sc(this))},xo.Sa=function(){null!=this.m&&(this.m=null,Yu(this),ic(this),Oa(19))},xo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Oa(2)):(this.c.info("Failed to ping google.com"),Oa(1))},(xo=pc.prototype).ta=function(){},xo.sa=function(){},xo.ra=function(){},xo.qa=function(){},xo.Ja=function(){},gc.prototype.a=function(t,e){return new yc(t,e)},Ho(yc,Gs),yc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Oa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=fc(t,null,t.fa),Ju(t)},yc.prototype.close=function(){Wu(this.a)},yc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Zu(this.a,e)}else this.l?((e={}).__data__=Qs(t),Zu(this.a,e)):Zu(this.a,t)},yc.prototype.G=function(){this.a.f=null,delete this.f,Wu(this.a),delete this.a,yc.X.G.call(this)},Ho(vc,ka),Ho(mc,Na),Ho(bc,pc),bc.prototype.ta=function(){$s(this.a,"a")},bc.prototype.sa=function(t){$s(this.a,new vc(t))},bc.prototype.ra=function(t){$s(this.a,new mc(t))},bc.prototype.qa=function(){$s(this.a,"b")},gc.prototype.createWebChannel=gc.prototype.a,yc.prototype.send=yc.prototype.h,yc.prototype.open=yc.prototype.g,yc.prototype.close=yc.prototype.close,Ia.NO_ERROR=0,Ia.TIMEOUT=8,Ia.HTTP_ERROR=6,Ta.COMPLETE="complete",xa.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",Gs.prototype.listen=Gs.prototype.va,Ru.prototype.listenOnce=Ru.prototype.wa,Ru.prototype.getLastError=Ru.prototype.Qa,Ru.prototype.getLastErrorCode=Ru.prototype.ua,Ru.prototype.getStatus=Ru.prototype.W,Ru.prototype.getResponseJson=Ru.prototype.Pa,Ru.prototype.getResponseText=Ru.prototype.$,Ru.prototype.send=Ru.prototype.ba;var wc=Ia,_c=Ta,Oc=ya,Ec=xa,Cc=Ru,Ic=n("30Go"),Tc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Sc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),xc=new Co.b("@firebase/firestore");function jc(){return xc.logLevel}function Ac(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xc.logLevel<=Co.a.DEBUG){var r=e.map(Pc);xc.debug.apply(xc,Object(Ic.g)(["Firestore (8.2.9): "+t],r))}}function kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xc.logLevel<=Co.a.ERROR){var r=e.map(Pc);xc.error.apply(xc,Object(Ic.g)(["Firestore (8.2.9): "+t],r))}}function Nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xc.logLevel<=Co.a.WARN){var r=e.map(Pc);xc.warn.apply(xc,Object(Ic.g)(["Firestore (8.2.9): "+t],r))}}function Pc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Rb){return t}}function Dc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw kc(e),new Error(e)}function Rc(t,e){t||Dc()}function Vc(t,e){return t}function Lc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Mc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Lc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Uc(t,e){return t<e?-1:t>e?1:0}function Fc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qc(t){return t+"\0"}var Hc=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Uc(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Hc.T=new Hc("");var zc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ic.c)(e,t),e}(Error),Gc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Hc.fromBase64String(e))}catch(e){throw new Bc(zc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),$c=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();$c.UNAUTHENTICATED=new $c(null),$c.R=new $c("google-credentials-uid"),$c.P=new $c("first-party-uid");var Kc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Qc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t($c.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Wc=function(){function t(t){var e=this;this.D=null,this.currentUser=$c.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(Ac("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Rc("string"==typeof n.accessToken),new Kc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Rc(null===t||"string"==typeof t),new $c(t)},t}(),Yc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=$c.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Xc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Yc(this.F,this.O))},t.prototype.v=function(t){t($c.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Zc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Zc.q=-1;var Jc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Bc(zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Bc(zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Bc(zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bc(zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Uc(this.nanoseconds,t.nanoseconds):Uc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tl=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Jc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),el=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dc(),void 0===n?n=t.length-e:n>t.length-e&&Dc(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Bc(zc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(el),rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return rl.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Bc(zc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Bc(zc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Bc(zc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Bc(zc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(el),ol=function(){function t(t){this.path=t}return t._t=function(e){return new t(nl.ot(e))},t.ft=function(e){return new t(nl.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===nl.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return nl.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new nl(e.slice()))},t}();function sl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ul(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var cl=function(){function t(t){this.fields=t,t.sort(il.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Fc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(Rc(!!t),"string"==typeof t){var e=0,n=ll.exec(t);if(Rc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fl(t.seconds),nanos:fl(t.nanos)}}function fl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dl(t){return"string"==typeof t?Hc.fromBase64String(t):Hc.fromUint8Array(t)}function pl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gl(t){var e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new Jc(e.seconds,e.nanos)}function yl(t){return null==t}function vl(t){return 0===t&&1/t==-1/0}function ml(t){return"number"==typeof t&&Number.isInteger(t)&&!vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function bl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pl(t)?4:10:Dc()}function wl(t,e){var n=bl(t);if(n!==bl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hl(t.timestampValue),r=hl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dl(t.bytesValue).isEqual(dl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return fl(t.geoPointValue.latitude)===fl(e.geoPointValue.latitude)&&fl(t.geoPointValue.longitude)===fl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return fl(t.integerValue)===fl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=fl(t.doubleValue),r=fl(e.doubleValue);return n===r?vl(n)===vl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fc(t.arrayValue.values||[],e.arrayValue.values||[],wl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(sl(n)!==sl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wl(n[i],r[i])))return!1;return!0}(t,e);default:return Dc()}}function _l(t,e){return void 0!==(t.values||[]).find((function(t){return wl(t,e)}))}function Ol(t,e){var n=bl(t),r=bl(e);if(n!==r)return Uc(n,r);switch(n){case 0:return 0;case 1:return Uc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=fl(t.integerValue||t.doubleValue),r=fl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return El(t.timestampValue,e.timestampValue);case 4:return El(gl(t),gl(e));case 5:return Uc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=dl(t),r=dl(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Uc(n[i],r[i]);if(0!==o)return o}return Uc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Uc(fl(t.latitude),fl(e.latitude));return 0!==n?n:Uc(fl(t.longitude),fl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ol(n[i],r[i]);if(o)return o}return Uc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Uc(r[s],o[s]);if(0!==a)return a;var u=Ol(n[r[s]],i[o[s]]);if(0!==u)return u}return Uc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Dc()}}function El(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Uc(t,e);var n=hl(t),r=hl(e),i=Uc(n.seconds,r.seconds);return 0!==i?i:Uc(n.nanos,r.nanos)}function Cl(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=hl(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dl(e.bytesValue).toBase64():"referenceValue"in e?ol.ft(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Dc();var n}(t)}function Il(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Tl(t){return!!t&&"integerValue"in t}function Sl(t){return!!t&&"arrayValue"in t}function xl(t){return!!t&&"nullValue"in t}function jl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}var kl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Al(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return wl(this.proto,t.proto)},t}(),Nl=function(){function t(t){void 0===t&&(t=kl.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===bl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(il.ct(),this.At);return null!=t?new kl(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Al(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Pl(t){var e=[];return al(t.fields||{},(function(t,n){var r=new il([t]);if(Al(n)){var i=Pl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new cl(e)}var Dl=function(t,e){this.key=t,this.version=e},Rl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ic.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Dl),Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ic.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dl),Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dl),Ml=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Ul(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ml(t,e,n,r,i,o,s)}function Fl(t){var e=Vc(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+Cl(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),yl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jl(e.startAt)),e.endAt&&(n+="|ub:",n+=Jl(e.endAt)),e.vt=n}return e.vt}function ql(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!eh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!wl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rh(t.startAt,e.startAt)&&rh(t.endAt,e.endAt)}function Hl(t){return ol.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var zl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ic.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Bl(t,n,r):"array-contains"===n?new Ql(t,r):"in"===n?new Wl(t,r):"not-in"===n?new Yl(t,r):"array-contains-any"===n?new Xl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Gl(t,n):new $l(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Ol(e,this.value)):null!==e&&bl(this.value)===bl(e)&&this.Dt(Ol(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dc()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Bl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ol.ft(r.referenceValue),i}return Object(Ic.c)(e,t),e.prototype.matches=function(t){var e=ol.H(t.key,this.key);return this.Dt(e)},e}(zl),Gl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kl(0,n),r}return Object(Ic.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(zl),$l=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kl(0,n),r}return Object(Ic.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(zl);function Kl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ol.ft(t.referenceValue)}))}var Ql=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ic.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Sl(e)&&_l(e.arrayValue,this.value)},e}(zl),Wl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ic.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&_l(this.value.arrayValue,e)},e}(zl),Yl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ic.c)(e,t),e.prototype.matches=function(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!_l(this.value.arrayValue,e)},e}(zl),Xl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ic.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Sl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return _l(e.value.arrayValue,t)}))},e}(zl),Zl=function(t,e){this.position=t,this.before=e};function Jl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Cl(t)})).join(",")}var th=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function eh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function nh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?ol.H(ol.ft(s.referenceValue),n.key):Ol(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function rh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wl(t.position[n],e.position[n]))return!1;return!0}var ih=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function oh(t,e,n,r,i,o,s,a){return new ih(t,e,n,r,i,o,s,a)}function sh(t){return new ih(t)}function ah(t){return!yl(t.limit)&&"F"===t.limitType}function uh(t){return!yl(t.limit)&&"L"===t.limitType}function ch(t){return t.xt.length>0?t.xt[0].field:null}function lh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function hh(t){return null!==t.collectionGroup}function fh(t){var e=Vc(t);if(null===e.Nt){e.Nt=[];var n=lh(e),r=ch(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new th(n)),e.Nt.push(new th(il.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new th(il.ht(),u))}}}return e.Nt}function dh(t){var e=Vc(t);if(!e.$t)if("F"===e.limitType)e.$t=Ul(e.path,e.collectionGroup,fh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fh(e);r<i.length;r++){var o=i[r];n.push(new th(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Zl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Zl(e.startAt.position,!e.startAt.before):null;e.$t=Ul(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function ph(t,e,n){return new ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return ql(dh(t),dh(e))&&t.limitType===e.limitType}function yh(t){return Fl(dh(t))+"|lt:"+t.limitType}function vh(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+Cl(e.value);var e})).join(", ")+"]"),yl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Jl(t.startAt)),t.endAt&&(e+=", endAt: "+Jl(t.endAt)),"Target("+e+")"}(dh(t))+"; limitType="+t.limitType+")"}function mh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):ol.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!nh(t.startAt,fh(t),e)||t.endAt&&nh(t.endAt,fh(t),e))}(t,e)}function bh(t){return function(e,n){for(var r=!1,i=0,o=fh(t);i<o.length;i++){var s=o[i],a=wh(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function wh(t,e,n){var r=t.field.ut()?ol.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ol(r,i):Dc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dc()}}var _h=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=tl.min()),void 0===o&&(o=tl.min()),void 0===s&&(s=Hc.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Oh(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vl(e)?"-0":e}}function Eh(t){return{integerValue:""+t}}function Ch(t,e){return ml(e)?Eh(e):Oh(t,e)}var Ih=function(){this.qt=void 0};function Th(t,e,n){return t instanceof jh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ah?kh(t,e):t instanceof Nh?Ph(t,e):function(t,e){var n=xh(t,e),r=Rh(n)+Rh(t.Ut);return Tl(n)&&Tl(t.Ut)?Eh(r):Oh(t.Qt,r)}(t,e)}function Sh(t,e,n){return t instanceof Ah?kh(t,e):t instanceof Nh?Ph(t,e):n}function xh(t,e){return t instanceof Dh?Tl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e}(Ih),Ah=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ic.c)(e,t),e}(Ih);function kh(t,e){for(var n=Vh(e),r=function(t){n.some((function(e){return wl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Nh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ic.c)(e,t),e}(Ih);function Ph(t,e){for(var n=Vh(e),r=function(t){n=n.filter((function(e){return!wl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Ic.c)(e,t),e}(Ih);function Rh(t){return fl(t.integerValue||t.doubleValue)}function Vh(t){return Sl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Lh=function(t,e){this.field=t,this.transform=e},Mh=function(t,e){this.version=t,this.transformResults=e},Uh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Fh(t,e){return void 0!==t.updateTime?e instanceof Rl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Rl}var qh=function(){};function Hh(t,e,n){return t instanceof Kh?function(t,e,n){var r=t.value;if(n.transformResults){var i=Yh(t.fieldTransforms,e,n.transformResults);r=Zh(t.fieldTransforms,r,i)}return new Rl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qh?function(t,e,n){if(!Fh(t.jt,e))return new Ll(t.key,n.version);var r=Wh(t,e,n.transformResults?Yh(t.fieldTransforms,e,n.transformResults):[]);return new Rl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Vl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function zh(t,e,n){return t instanceof Kh?function(t,e,n){if(!Fh(t.jt,e))return e;var r=t.value,i=Xh(t.fieldTransforms,n,e);r=Zh(t.fieldTransforms,r,i);var o=$h(e);return new Rl(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Qh?function(t,e,n){if(!Fh(t.jt,e))return e;var r=$h(e),i=Wh(t,e,Xh(t.fieldTransforms,n,e));return new Rl(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Fh(t.jt,e)?new Vl(t.key,tl.min()):e}(t,e)}function Bh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Rl?e.field(o.field):void 0,a=xh(o.transform,s||null);null!=a&&(n=null==n?(new Nl).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Gh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ah&&e instanceof Ah||t instanceof Nh&&e instanceof Nh?Fc(t.elements,e.elements,wl):t instanceof Dh&&e instanceof Dh?wl(t.Ut,e.Ut):t instanceof jh&&e instanceof jh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function $h(t){return t instanceof Rl?t.version:tl.min()}var Kh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Ic.c)(e,t),e}(qh),Qh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Ic.c)(e,t),e}(qh);function Wh(t,e,n){var r;return r=function(t,e){var n=new Nl(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof Rl?e.data():kl.empty()),Zh(t.fieldTransforms,r,n)}function Yh(t,e,n){var r=[];Rc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Rl&&(a=e.field(o.field)),r.push(Sh(s,a,n[i]))}return r}function Xh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Rl&&(u=n.field(s.field)),r.push(Th(a,u,e))}return r}function Zh(t,e,n){for(var r=new Nl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Jh,tf,ef=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ic.c)(e,t),e}(qh),nf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ic.c)(e,t),e}(qh),rf=function(t){this.count=t};function of(t){switch(t){case zc.OK:return Dc();case zc.CANCELLED:case zc.UNKNOWN:case zc.DEADLINE_EXCEEDED:case zc.RESOURCE_EXHAUSTED:case zc.INTERNAL:case zc.UNAVAILABLE:case zc.UNAUTHENTICATED:return!1;case zc.INVALID_ARGUMENT:case zc.NOT_FOUND:case zc.ALREADY_EXISTS:case zc.PERMISSION_DENIED:case zc.FAILED_PRECONDITION:case zc.ABORTED:case zc.OUT_OF_RANGE:case zc.UNIMPLEMENTED:case zc.DATA_LOSS:return!0;default:return Dc()}}function sf(t){if(void 0===t)return kc("GRPC error has no .code"),zc.UNKNOWN;switch(t){case Jh.OK:return zc.OK;case Jh.CANCELLED:return zc.CANCELLED;case Jh.UNKNOWN:return zc.UNKNOWN;case Jh.DEADLINE_EXCEEDED:return zc.DEADLINE_EXCEEDED;case Jh.RESOURCE_EXHAUSTED:return zc.RESOURCE_EXHAUSTED;case Jh.INTERNAL:return zc.INTERNAL;case Jh.UNAVAILABLE:return zc.UNAVAILABLE;case Jh.UNAUTHENTICATED:return zc.UNAUTHENTICATED;case Jh.INVALID_ARGUMENT:return zc.INVALID_ARGUMENT;case Jh.NOT_FOUND:return zc.NOT_FOUND;case Jh.ALREADY_EXISTS:return zc.ALREADY_EXISTS;case Jh.PERMISSION_DENIED:return zc.PERMISSION_DENIED;case Jh.FAILED_PRECONDITION:return zc.FAILED_PRECONDITION;case Jh.ABORTED:return zc.ABORTED;case Jh.OUT_OF_RANGE:return zc.OUT_OF_RANGE;case Jh.UNIMPLEMENTED:return zc.UNIMPLEMENTED;case Jh.DATA_LOSS:return zc.DATA_LOSS;default:return Dc()}}(tf=Jh||(Jh={}))[tf.OK=0]="OK",tf[tf.CANCELLED=1]="CANCELLED",tf[tf.UNKNOWN=2]="UNKNOWN",tf[tf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tf[tf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tf[tf.NOT_FOUND=5]="NOT_FOUND",tf[tf.ALREADY_EXISTS=6]="ALREADY_EXISTS",tf[tf.PERMISSION_DENIED=7]="PERMISSION_DENIED",tf[tf.UNAUTHENTICATED=16]="UNAUTHENTICATED",tf[tf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tf[tf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tf[tf.ABORTED=10]="ABORTED",tf[tf.OUT_OF_RANGE=11]="OUT_OF_RANGE",tf[tf.UNIMPLEMENTED=12]="UNIMPLEMENTED",tf[tf.INTERNAL=13]="INTERNAL",tf[tf.UNAVAILABLE=14]="UNAVAILABLE",tf[tf.DATA_LOSS=15]="DATA_LOSS";var af=function(){function t(t,e){this.H=t,this.root=e||cf.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,cf.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,cf.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new uf(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new uf(this.root,t,this.H,!1)},t.prototype.ne=function(){return new uf(this.root,null,this.H,!0)},t.prototype.se=function(t){return new uf(this.root,t,this.H,!0)},t}(),uf=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),cf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Dc();if(this.right.le())throw Dc();var t=this.left.Ie();if(t!==this.right.Ie())throw Dc();return t+(this.le()?0:1)},t}();cf.EMPTY=null,cf.RED=!0,cf.Ht=!1,cf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new cf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var lf=function(){function t(t){this.H=t,this.data=new af(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new hf(this.data.te())},t.prototype.ee=function(t){return new hf(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),hf=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),ff=new af(ol.H);function df(){return ff}function pf(){return df()}var gf=new af(ol.H);function yf(){return gf}var vf=new af(ol.H);function mf(){return vf}var bf=new lf(ol.H);function wf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=bf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _f=new lf(Uc);function Of(){return _f}var Ef=function(){function t(t){this.H=t?function(e,n){return t(e,n)||ol.H(e.key,n.key)}:function(t,e){return ol.H(t.key,e.key)},this.ge=yf(),this.Ve=new af(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Cf=function(){function t(){this.be=new af(ol.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Dc():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),If=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ef.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Tf=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Sf.Le(e,n)),new t(tl.min(),r,Of(),df(),wf())},t}(),Sf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Hc.T,n,wf(),wf(),wf())},t}(),xf=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},jf=function(t,e){this.targetId=t,this.je=e},Af=function(t,e,n,r){void 0===n&&(n=Hc.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},kf=function(){function t(){this.Ge=0,this.ze=Df(),this.He=Hc.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=wf(),e=wf(),n=wf();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dc()}})),new Sf(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Df()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Nf=function(){function t(t){this.un=t,this.hn=new Map,this.ln=df(),this._n=Pf(),this.fn=new lf(Uc)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Rl?this.wn(r,t.We):t.We instanceof Vl&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Dc()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Hl(i))if(0===n){var o=new ol(i.path);this.En(e,o,new Vl(o,tl.min()))}else Rc(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&Hl(o.target)){var s=new ol(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new Vl(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=wf();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Tf(t,n,this.fn,this.ln,r);return this.ln=df(),this._n=Pf(),this.fn=new lf(Uc),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new kf,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new lf(Uc),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Ac("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new kf),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Pf(){return new af(ol.H)}function Df(){return new af(ol.H)}var Rf={asc:"ASCENDING",desc:"DESCENDING"},Vf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lf=function(t,e){this.t=t,this.Bt=e};function Mf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uf(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Ff(t,e){return Mf(t,e.j())}function qf(t){return Rc(!!t),tl.K(function(t){var e=hl(t);return new Jc(e.seconds,e.nanos)}(t))}function Hf(t,e){return function(t){return new nl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function zf(t){var e=nl.ot(t);return Rc(fd(e)),e}function Bf(t,e){return Hf(t.t,e.path)}function Gf(t,e){var n=zf(e);if(n.get(1)!==t.t.projectId)throw new Bc(zc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Bc(zc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ol(Wf(n))}function $f(t,e){return Hf(t.t,e)}function Kf(t){var e=zf(t);return 4===e.length?nl.ct():Wf(e)}function Qf(t){return new nl(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Wf(t){return Rc(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Yf(t,e,n){return{name:Bf(t,e),fields:n.proto.mapValue.fields}}function Xf(t,e,n){var r=Gf(t,e.name),i=qf(e.updateTime),o=new kl({mapValue:{fields:e.fields}});return new Rl(r,i,o,{hasCommittedMutations:!!n})}function Zf(t,e){var n;if(e instanceof Kh)n={update:Yf(t,e.key,e.value)};else if(e instanceof ef)n={delete:Bf(t,e.key)};else if(e instanceof Qh)n={update:Yf(t,e.key,e.data),updateMask:hd(e.Gt)};else{if(!(e instanceof nf))return Dc();n={verify:Bf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof jh)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ah)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Nh)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Dh)return{fieldPath:e.field.rt(),increment:n.Ut};throw Dc()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ff(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dc()}(t,e.jt)),n}function Jf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Uh.updateTime(qf(t.updateTime)):void 0!==t.exists?Uh.exists(t.exists):Uh.Kt()}(e.currentDocument):Uh.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Rc("REQUEST_TIME"===e.setToServerValue),n=new jh):"appendMissingElements"in e?n=new Ah(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Nh(e.removeAllFromArray.values||[]):"increment"in e?n=new Dh(t,e.increment):Dc();var r=il.lt(e.fieldPath);return new Lh(r,n)}(t,e)})):[];if(e.update){var i=Gf(t,e.update.name),o=new kl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new cl((t.fieldPaths||[]).map((function(t){return il.lt(t)})))}(e.updateMask);return new Qh(i,o,s,n,r)}return new Kh(i,o,n,r)}if(e.delete){var a=Gf(t,e.delete);return new ef(a,n)}if(e.verify){var u=Gf(t,e.verify);return new nf(u,n)}return Dc()}function td(t,e){return{documents:[$f(t,e.path)]}}function ed(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$f(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$f(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(jl(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NAN"}};if(xl(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(jl(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NAN"}};if(xl(t.value))return{unaryFilter:{field:ad(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ad(t.field),op:sd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ad(t.field),direction:od(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||yl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=rd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=rd(e.endAt)),n}function nd(t){var e=Kf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[ld(e)]:void 0!==e.fieldFilter?[cd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Dc():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new th(ud(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return yl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=id(n.startAt));var l=null;return n.endAt&&(l=id(n.endAt)),oh(e,i,a,s,u,"F",c,l)}function rd(t){return{before:t.before,values:t.position}}function id(t){return new Zl(t.values||[],!!t.before)}function od(t){return Rf[t]}function sd(t){return Vf[t]}function ad(t){return{fieldPath:t.rt()}}function ud(t){return il.lt(t.fieldPath)}function cd(t){return zl.create(ud(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dc()}}(t.fieldFilter.op),t.fieldFilter.value)}function ld(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ud(t.unaryFilter.field);return zl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ud(t.unaryFilter.field);return zl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ud(t.unaryFilter.field);return zl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ud(t.unaryFilter.field);return zl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dc()}}function hd(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function fd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var dd=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pd=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Dc(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),gd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new dd,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new md(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Ed(e.target.error);n.Bn.reject(new md(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new md(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Ac("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wd(e)},t}(),yd=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Io.g)())&&kc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ac("SimpleDb","Removing database:",t),_d(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Io.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ac("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new md(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Bc(zc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new md(t,n))},i.onupgradeneeded=function(t){Ac("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ac("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Ic.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ic.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=gd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),pd.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ac("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),vd=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return _d(this.Zn.delete())},t}(),md=function(t){function e(e,n){var r=this;return(r=t.call(this,zc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ic.c)(e,t),e}(Bc);function bd(t){return"IndexedDbTransactionError"===t.name}var wd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ac("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ac("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_d(n)},t.prototype.add=function(t){return Ac("SimpleDb","ADD",this.store.name,t,t),_d(this.store.add(t))},t.prototype.get=function(t){var e=this;return _d(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ac("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ac("SimpleDb","DELETE",this.store.name,t),_d(this.store.delete(t))},t.prototype.count=function(){return Ac("SimpleDb","COUNT",this.store.name),_d(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){Ac("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new pd((function(n,r){e.onerror=function(t){var e=Ed(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new pd((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new vd(i),s=e(i.primaryKey,i.value,o);if(s instanceof pd){var a=s.catch((function(t){return o.done(),pd.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return pd.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _d(t){return new pd((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ed(t.target.error);n(e)}}))}var Od=!1;function Ed(t){var e=yd.Qn(Object(Io.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Bc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Od||(Od=!0,setTimeout((function(){throw r}),0)),r}}return t}var Cd=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new dd,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Bc(zc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Id(t,e){if(kc("AsyncQueue",e+": "+t),bd(t))return new Bc(zc.UNAVAILABLE,e+": "+t);throw t}var Td="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sd=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function xd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ad(e)),e=jd(t.get(n),e);return Ad(e)}function jd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ad(t){return t+"\x01\x01"}function kd(t){var e=t.length;if(Rc(e>=2),2===e)return Rc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),nl.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Dc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Dc()}o=s+2}return new nl(r)}var Nd=function(t,e){this.seconds=t,this.nanoseconds=e},Pd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Pd.store="owner",Pd.key="owner";var Dd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dd.store="mutationQueues",Dd.keyPath="userId";var Rd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rd.store="mutations",Rd.keyPath="batchId",Rd.userMutationsIndex="userMutationsIndex",Rd.userMutationsKeyPath=["userId","batchId"];var Vd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,xd(e)]},t.key=function(t,e,n){return[t,xd(e),n]},t}();Vd.store="documentMutations",Vd.PLACEHOLDER=new Vd;var Ld=function(t,e){this.path=t,this.readTime=e},Md=function(t,e){this.path=t,this.version=e},Ud=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ud.store="remoteDocuments",Ud.readTimeIndex="readTimeIndex",Ud.readTimeIndexPath="readTime",Ud.collectionReadTimeIndex="collectionReadTimeIndex",Ud.collectionReadTimeIndexPath=["parentPath","readTime"];var Fd=function(t){this.byteSize=t};Fd.store="remoteDocumentGlobal",Fd.key="remoteDocumentGlobalKey";var qd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};qd.store="targets",qd.keyPath="targetId",qd.queryTargetsIndexName="queryTargetsIndex",qd.queryTargetsKeyPath=["canonicalId","targetId"];var Hd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Hd.store="targetDocuments",Hd.keyPath=["targetId","path"],Hd.documentTargetsIndex="documentTargetsIndex",Hd.documentTargetsKeyPath=["path","targetId"];var zd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zd.key="targetGlobalKey",zd.store="targetGlobal";var Bd=function(t,e){this.collectionId=t,this.parent=e};Bd.store="collectionParents",Bd.keyPath=["collectionId","parent"];var Gd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Gd.store="clientMetadata",Gd.keyPath="clientId";var $d=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};$d.store="bundles",$d.keyPath="bundleId";var Kd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Kd.store="namedQueries",Kd.keyPath="name";var Qd=Object(Ic.g)(Object(Ic.g)(Object(Ic.g)(Object(Ic.g)([Dd.store,Rd.store,Vd.store,Ud.store,qd.store,Pd.store,zd.store,Hd.store],[Gd.store]),[Fd.store]),[Bd.store]),[$d.store,Kd.store]),Wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Ic.c)(e,t),e}(Sd);function Yd(t,e){var n=Vc(t);return yd.zn(n.ps,e)}var Xd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Hh(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=zh(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=zh(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),wf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fc(this.mutations,t.mutations,(function(t,e){return Gh(t,e)}))&&Fc(this.baseMutations,t.baseMutations,(function(t,e){return Gh(t,e)}))},t}(),Zd=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Rc(e.mutations.length===r.length);for(var i=mf(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Jd=function(t){this.Fs=t};function tp(t,e){if(e.document)return Xf(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ol.Et(e.noDocument.path),r=op(e.noDocument.readTime);return new Vl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ol.Et(e.unknownDocument.path);return r=op(e.unknownDocument.version),new Ll(i,r)}return Dc()}function ep(t,e,n){var r=np(n),i=e.key.path.X().it();if(e instanceof Rl){var o=function(t,e){return{name:Bf(t,e.key),fields:e.bt().mapValue.fields,updateTime:Mf(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Ud(null,null,o,s,r,i)}if(e instanceof Vl){var a=e.key.path.it(),u=ip(e.version);return s=e.hasCommittedMutations,new Ud(null,new Ld(a,u),null,s,r,i)}if(e instanceof Ll){var c=e.key.path.it(),l=ip(e.version);return new Ud(new Md(c,l),null,null,!0,r,i)}return Dc()}function np(t){var e=t.j();return[e.seconds,e.nanoseconds]}function rp(t){var e=new Jc(t[0],t[1]);return tl.K(e)}function ip(t){var e=t.j();return new Nd(e.seconds,e.nanoseconds)}function op(t){var e=new Jc(t.seconds,t.nanoseconds);return tl.K(e)}function sp(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Jf(t.Fs,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Jf(t.Fs,e)})),o=Jc.fromMillis(e.localWriteTimeMs);return new Xd(e.batchId,o,n,i)}function ap(t){var e,n,r=op(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?op(t.lastLimboFreeSnapshotVersion):tl.min();return void 0!==t.query.documents?(Rc(1===(n=t.query).documents.length),e=dh(sh(Kf(n.documents[0])))):e=function(t){return dh(nd(t))}(t.query),new _h(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hc.fromBase64String(t.resumeToken))}function up(t,e){var n,r=ip(e.Ot),i=ip(e.lastLimboFreeSnapshotVersion);n=Hl(e.target)?td(t.Fs,e.target):ed(t.Fs,e.target);var o=e.resumeToken.toBase64();return new qd(e.targetId,Fl(e.target),r,o,e.sequenceNumber,i,n)}function cp(t){var e=nd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ph(e,e.limit,"L"):e}var lp=function(){function t(){}return t.prototype.Os=function(t,e){return hp(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:op(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return hp(t).put({bundleId:(n=e).id,createTime:ip(qf(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return fp(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:cp(e.bundledQuery),readTime:op(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return fp(t).put(function(t){return{name:t.name,readTime:ip(qf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function hp(t){return Yd(t,$d.store)}function fp(t){return Yd(t,Kd.store)}var dp=function(){function t(){this.Bs=new pp}return t.prototype.qs=function(t,e){return this.Bs.add(e),pd.resolve()},t.prototype.Us=function(t,e){return pd.resolve(this.Bs.getEntries(e))},t}(),pp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new lf(nl.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new lf(nl.H)).it()},t}(),gp=function(){function t(){this.Qs=new pp}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:xd(i)};return yp(t).put(o)}return pd.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qc(e),""],!1,!0);return yp(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(kd(o.parent))}return n}))},t}();function yp(t){return Yd(t,Bd.store)}var vp={Ks:!1,Ws:0,js:0,Gs:0},mp=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function bp(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){if(t.code!==zc.FAILED_PRECONDITION||t.message!==Td)throw t;return Ac("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}mp.Xs=10,mp.Zs=1e3,mp.ti=new mp(41943040,mp.Xs,mp.Zs),mp.ei=new mp(-1,0,0);var wp=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){al(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.et=function(){return ul(this.ii)},t}(),_p=function(){function t(){this.ri=new wp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:tl.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?pd.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Op(t,e,n){var r=t.store(Rd.store),i=t.store(Vd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Rc(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Vd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pd.Mn(o).next((function(){return c}))}function Ep(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dc();e=t.noDocument}return JSON.stringify(e).length}var Cp=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Rc(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tp(t).hs({index:Rd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=Sp(t),s=Tp(t);return s.add({}).next((function(a){Rc("number"==typeof a);for(var u=new Xd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Zf(t.Fs,e)})),i=n.mutations.map((function(e){return Zf(t.Fs,e)}));return new Rd(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new lf((function(t,e){return Uc(t.rt(),e.rt())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Vd.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Vd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),pd.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return Tp(t).get(e).next((function(t){return t?(Rc(t.userId===n.userId),sp(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?pd.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tp(t).hs({index:Rd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Rc(e.batchId>=r),o=sp(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tp(t).hs({index:Rd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tp(t).rs(Rd.userMutationsIndex,n).next((function(t){return t.map((function(t){return sp(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Vd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Sp(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=kd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Tp(t).get(u).next((function(t){if(!t)throw Dc();Rc(t.userId===n.userId),o.push(sp(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new lf(Uc),i=[];return e.forEach((function(e){var o=Vd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Sp(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=kd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),pd.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Vd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new lf(Uc);return Sp(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=kd(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Tp(t).get(e).next((function(t){if(null===t)throw Dc();Rc(t.userId===n.userId),r.push(sp(n.Qt,t))})))})),pd.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return Op(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),pd.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return pd.resolve();var r=IDBKeyRange.lowerBound(Vd.prefixForUser(e.userId)),i=[];return Sp(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=kd(t[1]);i.push(o)}else r.done()})).next((function(){Rc(0===i.length)}))}))},t.prototype.Fi=function(t,e){return Ip(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return xp(t).get(this.userId).next((function(t){return t||new Dd(e.userId,-1,"")}))},t}();function Ip(t,e,n){var r=Vd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Sp(t).hs({range:o,us:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Tp(t){return Yd(t,Rd.store)}function Sp(t){return Yd(t,Vd.store)}function xp(t){return Yd(t,Dd.store)}var jp=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Ap=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new jp(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return tl.K(new Jc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return kp(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Rc(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return kp(t).hs((function(s,a){var u=ap(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return pd.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return kp(t).hs((function(t,n){var r=ap(n);e(r)}))},t.prototype.qi=function(t){return Np(t).get(zd.key).next((function(t){return Rc(null!==t),t}))},t.prototype.Ui=function(t,e){return Np(t).put(zd.key,e)},t.prototype.Gi=function(t,e){return kp(t).put(up(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Fl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kp(t).hs({range:r,index:qd.queryTargetsIndexName},(function(t,n,r){var o=ap(n);ql(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=Pp(t);return e.forEach((function(e){var s=xd(e.path);i.push(o.put(new Hd(n,s))),i.push(r.Ti.nr(t,n,e))})),pd.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Pp(t);return pd.forEach(e,(function(e){var o=xd(e.path);return pd.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=Pp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pp(t),i=wf();return r.hs({range:n,us:!0},(function(t,e,n){var r=kd(t[1]),o=new ol(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=xd(e.path),r=IDBKeyRange.bound([n],[qc(n)],!1,!0),i=0;return Pp(t).hs({index:Hd.documentTargetsIndex,us:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return kp(t).get(e).next((function(t){return t?ap(t):null}))},t}();function kp(t){return Yd(t,qd.store)}function Np(t){return Yd(t,zd.store)}function Pp(t){return Yd(t,Hd.store)}function Dp(t,e){var n=t[1],r=e[1],i=Uc(t[0],e[0]);return 0===i?Uc(n,r):i}var Rp=function(){function t(t){this.cr=t,this.buffer=new lf(Dp),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Dp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vp=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Ac("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Object(Ic.b)(e,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return bd(e=n.sent())?(Ac("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Lp=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return pd.resolve(Zc.q);var r=new Rp(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Ac("LruGarbageCollector","Garbage collection skipped; disabled"),pd.resolve(vp)):this.pr(t).next((function(r){return r<n.params.zs?(Ac("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),vp):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(Ac("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),jc()<=Co.a.DEBUG&&Ac("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),pd.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Mp=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Lp(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Up(t,n)},t.prototype.ir=function(t,e,n){return Up(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Up(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return xp(t).ls((function(r){return Ip(t,r,e).next((function(t){return t&&(n=!0),pd.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),Pp(t).delete([0,xd(s.path)])}))}));i.push(u)}})).next((function(){return pd.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Up(t,e)},t.prototype.Dr=function(t,e){var n,r=Pp(t),i=Zc.q;return r.hs({index:Hd.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Zc.q&&e(new ol(kd(n)),i),i=s,n=o):i=Zc.q})).next((function(){i!==Zc.q&&e(new ol(kd(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Up(t,e){return Pp(t).put(function(t,e){return new Hd(0,xd(t.path),e)}(e,t.bs))}var Fp=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return zp(t).put(Bp(e),n)},t.prototype.li=function(t,e){var n=zp(t),r=Bp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return zp(t).get(Bp(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return zp(t).get(Bp(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:Ep(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=pf();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=pf(),i=new af(ol.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Ep(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return pd.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return zp(t).hs({range:r},(function(t,e,r){for(var s=ol.Et(t);o&&ol.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=yf(),o=e.path.length+1,s={};if(n.isEqual(tl.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=np(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ud.collectionReadTimeIndex}return zp(t).hs(s,(function(t,n,s){if(t.length===o){var a=tp(r.Qt,n);e.path.nt(a.key.path)?a instanceof Rl&&mh(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new qp(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hp(t).get(Fd.key).next((function(t){return Rc(!!t),t}))},t.prototype.kr=function(t,e){return Hp(t).put(Fd.key,e)},t.prototype.Mr=function(t){if(t){var e=tp(this.Qt,t);return e instanceof Vl&&e.version.isEqual(tl.min())?null:e}return null},t}(),qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new wp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ic.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new lf((function(t,e){return Uc(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=ep(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Ep(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=ep(e.jr.Qt,new Vl(o,tl.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),pd.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(_p);function Hp(t){return Yd(t,Fd.store)}function zp(t){return Yd(t,Ud.store)}function Bp(t){return t.path.it()}var Gp=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Rc(n<r&&n>=0&&r<=11);var o=new gd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Pd.store)}(t),function(t){t.createObjectStore(Dd.store,{keyPath:Dd.keyPath}),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Vd.store)}(t),$p(t),function(t){t.createObjectStore(Ud.store)}(t));var s=pd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Hd.store),t.deleteObjectStore(qd.store),t.deleteObjectStore(zd.store)}(t),$p(t)),s=s.next((function(){return function(t){var e=t.store(zd.store),n=new zd(0,0,tl.min().j(),0);return e.put(zd.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Rd.store).rs().next((function(n){t.deleteObjectStore(Rd.store),t.createObjectStore(Rd.store,{keyPath:Rd.keyPath,autoIncrement:!0}).createIndex(Rd.userMutationsIndex,Rd.userMutationsKeyPath,{unique:!0});var r=e.store(Rd.store),i=n.map((function(t){return r.put(t)}));return pd.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Fd.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ud.store);e.createIndex(Ud.readTimeIndex,Ud.readTimeIndexPath,{unique:!1}),e.createIndex(Ud.collectionReadTimeIndex,Ud.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore($d.store,{keyPath:$d.keyPath})}(t),function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Ud.store).hs((function(t,n){e+=Ep(n)})).next((function(){var n=new Fd(e);return t.store(Fd.store).put(Fd.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Dd.store),r=t.store(Rd.store);return n.rs().next((function(n){return pd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Rd.userMutationsIndex,i).next((function(r){return pd.forEach(r,(function(r){Rc(r.userId===n.userId);var i=sp(e.Qt,r);return Op(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Hd.store),n=t.store(Ud.store);return t.store(zd.store).get(zd.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new nl(n),s=function(t){return[0,xd(t)]}(o);r.push(e.get(s).next((function(n){return n?pd.resolve():function(n){return e.put(new Hd(0,xd(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pd.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(Bd.store,{keyPath:Bd.keyPath});var n=e.store(Bd.store),r=new pp,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:xd(i)})}};return e.store(Ud.store).hs({us:!0},(function(t,e){var n=new nl(t);return i(n.X())})).next((function(){return e.store(Vd.store).hs({us:!0},(function(t,e){var n=kd(t[1]);return i(n.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(qd.store);return n.hs((function(t,r){var i=ap(r),o=up(e.Qt,i);return n.put(o)}))},t}();function $p(t){t.createObjectStore(Hd.store,{keyPath:Hd.keyPath}).createIndex(Hd.documentTargetsIndex,Hd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.queryTargetsIndexName,qd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zd.store)}var Kp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Bc(zc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Mp(this,i),this.ho=n+"main",this.Qt=new Jd(u),this.lo=new yd(this.ho,11,new Gp(this.Qt)),this._o=new Ap(this.Ti,this.Qt),this.Ei=new gp,this.fo=function(t,e){return new Fp(t,e)}(this.Qt,this.Ei),this.wo=new lp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&kc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Bc(zc.FAILED_PRECONDITION,Kp);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Zc(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Ic.b)(e,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Object(Ic.b)(e,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Object(Ic.b)(e,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Yp(e).put(new Gd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(bd(e))return Ac("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ac("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return Wp(t).get(Pd.key).next((function(t){return pd.resolve(e.Do(t))}))},t.prototype.Co=function(t){return Yp(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Yd(t,Gd.store);return e.rs().next((function(t){var n=r.$o(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return pd.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?pd.resolve(!0):Wp(t).get(Pd.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Bc(zc.FAILED_PRECONDITION,Kp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yp(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ac("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t=this;return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Pd.store,Gd.store],(function(e){var n=new Wd(e,Zc.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Yp(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Cp.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ac("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qd,(function(o){return r=new Wd(o,i.so?i.so.next():Zc.q),"readwrite-primary"===e?i.Vo(r).next((function(t){return!!t||i.bo(r)})).next((function(e){if(!e)throw kc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po((function(){return i.uo(!1)})),new Bc(zc.FAILED_PRECONDITION,Td);return n(r)})).next((function(t){return i.So(r).next((function(){return t}))})):i.jo(r).next((function(){return n(r)}))})).then((function(t){return r.Vs(),t}))},t.prototype.jo=function(t){var e=this;return Wp(t).get(Pd.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Bc(zc.FAILED_PRECONDITION,Kp)}))},t.prototype.So=function(t){var e=new Pd(this.clientId,this.allowTabSynchronization,Date.now());return Wp(t).put(Pd.key,e)},t.Kn=function(){return yd.Kn()},t.prototype.vo=function(t){var e=this,n=Wp(t);return n.get(Pd.key).next((function(t){return e.Do(t)?(Ac("IndexedDbPersistence","Releasing primary lease."),n.delete(Pd.key)):pd.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(kc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Ac("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return kc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){kc("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Wp(t){return Yd(t,Pd.store)}function Yp(t){return Yd(t,Gd.store)}function Xp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zp=function(t,e){this.progress=t,this.Go=e},Jp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=pf();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=df();return i.forEach((function(t,e){e||(e=new Vl(t,tl.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return ol.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):hh(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new ol(e)).next((function(t){var e=yf();return t instanceof Rl&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=yf();return this.Ei.Us(t,i).next((function(s){return pd.forEach(s,(function(s){var a=function(t,e){return new ih(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return o.sc(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=zh(u,r.get(c),o.vs);r=l instanceof Rl?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){mh(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=wf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Qh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Rl&&(c=c.zt(t,e))})),c}))},t}(),tg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=wf(),i=wf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),eg=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(tl.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(o){var s=i.hc(e,o);return(ah(e)||uh(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(jc()<=Co.a.DEBUG&&Ac("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vh(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new lf(bh(t));return e.forEach((function(e,r){r instanceof Rl&&mh(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return jc()<=Co.a.DEBUG&&Ac("QueryEngine","Using full collection scan to execute query:",vh(e)),this.ac.Kr(t,e,tl.min())},t}(),ng=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new af(Uc),this.dc=new wp((function(t){return Fl(t)}),ql),this.wc=tl.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Jp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function rg(t,e,n,r){return new ng(t,e,n,r)}function ig(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ic.d)(this,(function(s){switch(s.label){case 0:return n=Vc(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new Jp(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=wf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function og(t,e){var n=Vc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pd.resolve();return o.forEach((function(t){s=s.next((function(){return r._i(e,t)})).next((function(e){var o=e,s=n.$s.get(t);Rc(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),s.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function sg(t){var e=Vc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function ag(t,e){var n=Vc(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Rc(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}}));var a=df();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(ug(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(tl.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return pd.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function ug(t,e,n,r,i){var o=wf();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=df();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Vl&&s.version.isEqual(tl.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Ac("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function cg(t,e){var n=Vc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function lg(t,e){var n=Vc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?pd.resolve(r=i):n._o.Bi(t).next((function(i){return r=new _h(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function hg(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:r=Vc(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!bd(s=a.sent()))throw s;return Ac("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function fg(t,e,n){var r=Vc(t),i=tl.min(),o=wf();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Vc(t),i=r.dc.get(n);return void 0!==i?pd.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,dh(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:tl.min(),n?o:wf())})).next((function(t){return{documents:t,Rc:o}}))}))}function dg(t,e){var n=Vc(t),r=Vc(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function pg(t){var e=Vc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Vc(t),i=df(),o=np(n),s=zp(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Ud.readTimeIndex,range:a},(function(t,e){var n=tp(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:rp(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go;return e.wc=t.readTime,n}))}function gg(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){return[2,(e=Vc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=zp(t),n=tl.min();return e.hs({index:Ud.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=rp(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function yg(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ic.d)(this,(function(p){switch(p.label){case 0:for(i=Vc(t),o=wf(),s=df(),a=mf(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,lg(i,function(t){return dh(sh(nl.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ug(t,f,s,tl.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i._o.Yi(t,d.targetId).next((function(){return i._o.er(t,o,d.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function vg(t,e,n){return void 0===n&&(n=wf()),Object(Ic.b)(this,void 0,void 0,(function(){var r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return[4,lg(t,dh(cp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=qf(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Hc.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var mg=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return pd.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:qf(n.createTime)}),pd.resolve()},t.prototype.Ms=function(t,e){return pd.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:cp(t.bundledQuery),readTime:qf(t.readTime)}}(e)),pd.resolve()},t}(),bg=function(){function t(){this.vc=new lf(wg.Sc),this.Dc=new lf(wg.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new wg(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new wg(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new ol(new nl([])),r=new wg(n,t),i=new wg(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new ol(new nl([])),n=new wg(e,t),r=new wg(e,t+1),i=wf();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new wg(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),wg=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return ol.H(t.key,e.key)||Uc(t.Mc,e.Mc)},t.Cc=function(t,e){return Uc(t.Mc,e.Mc)||ol.H(t.key,e.key)},t}(),_g=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new lf(wg.Sc)}return t.prototype.Ai=function(t){return pd.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new Xd(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new wg(u.key,i)),this.Ei.qs(t,u.key.path.X())}return pd.resolve(o)},t.prototype.Pi=function(t,e){return pd.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return pd.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return pd.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return pd.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new wg(e,0),i=new wg(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),pd.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new lf(Uc);return e.forEach((function(t){var e=new wg(t,0),i=new wg(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),pd.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;ol.wt(i)||(i=i.child(""));var o=new wg(new ol(i),0),s=new lf(Uc);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),pd.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Rc(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return pd.forEach(e.mutations,(function(i){var o=new wg(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new wg(e,0),r=this.Bc.Re(n);return pd.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return pd.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Og=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new af(ol.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return pd.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=pf();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),pd.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=yf(),i=new ol(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof Rl&&mh(e,u)&&(r=r.zt(u.key,u))}return pd.resolve(r)},t.prototype.jc=function(t,e){return pd.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new Eg(this)},t.prototype.Or=function(t){return pd.resolve(this.size)},t}(),Eg=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Ic.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),pd.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(_p),Cg=function(){function t(t){this.persistence=t,this.Gc=new wp((function(t){return Fl(t)}),ql),this.lastRemoteSnapshotVersion=tl.min(),this.highestTargetId=0,this.zc=0,this.Hc=new bg,this.targetCount=0,this.Jc=jp.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),pd.resolve()},t.prototype.Qi=function(t){return pd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return pd.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),pd.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),pd.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new jp(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,pd.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),pd.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,pd.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),pd.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return pd.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return pd.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),pd.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),pd.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),pd.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return pd.resolve(n)},t.prototype.Fi=function(t,e){return pd.resolve(this.Hc.Fi(e))},t}(),Ig=function(){function t(t,e){var n=this;this.Yc={},this.so=new Zc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Cg(this),this.Ei=new dp,this.fo=function(t,e){return new Og(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Jd(e),this.wo=new mg(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new _g(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Ac("MemoryPersistence","Starting transaction:",t);var i=new Tg(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return pd.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Tg=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Ic.c)(e,t),e}(Sd),Sg=function(){function t(t){this.persistence=t,this.na=new bg,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Dc()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),pd.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),pd.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),pd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return pd.forEach(this.ra,(function(r){var i=ol._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return pd.Ln([function(){return pd.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function xg(t,e){return"firestore_clients_"+t+"_"+e}function jg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Ag(t,e){return"firestore_targets_"+t+"_"+e}var kg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Bc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(kc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ng=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bc(i.error.code,i.error.message)),o?new t(e,i.state,r):(kc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Of(),s=0;i&&s<r.activeTargetIds.length;++s)i=ml(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(kc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Dg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(kc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Rg=function(){function t(){this.activeTargetIds=Of()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Vg=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new af(Uc),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=xg(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Rg),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ic.d)(this,(function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(xg(this.persistenceKey,r)))&&(o=Pg.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",(function(){return l.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Ag(this.persistenceKey,t));if(n){var r=Ng.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Ag(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ac("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ac("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ac("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ac("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void kc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Object(Ic.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Ic.d)(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=Zc.q;if(null!=t)try{var n=JSON.parse(t);Rc("number"==typeof n),e=n}catch(t){kc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new kg(this.currentUser,t,e,n),i=jg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=jg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Ag(this.persistenceKey,t),i=new Ng(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Pg.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return kg.ca(new $c(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Ng.ca(r,e)},t.prototype.pa=function(t){return Dg.ca(t)},t.prototype.Ya=function(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Ac("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Of();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Lg=function(){function t(){this.iu=new Rg,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Rg,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Mg=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Ug=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Ac("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Ac("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Fg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qg=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Hg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ic.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new Cc;s.listenOnce(_c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case wc.NO_ERROR:var e=s.getResponseJson();Ac("Connection","XHR received:",JSON.stringify(e)),i(e);break;case wc.TIMEOUT:Ac("Connection",'RPC "'+t+'" timed out'),o(new Bc(zc.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:var n=s.getStatus();if(Ac("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(zc).indexOf(e)>=0?e:zc.UNKNOWN}(r.status);o(new Bc(a,r.message))}else o(new Bc(zc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Bc(zc.UNAVAILABLE,"Connection failed."));break;default:Dc()}}finally{Ac("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new gc,i=ma(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Io.l)()||Object(Io.n)()||Object(Io.j)()||Object(Io.k)()||Object(Io.o)()||Object(Io.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ac("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new qg({fu:function(t){c?Ac("Connection","Not sending because WebChannel is closed:",t):(u||(Ac("Connection","Opening WebChannel transport."),a.open(),u=!0),Ac("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Ec.EventType.OPEN,(function(){c||Ac("Connection","WebChannel transport opened.")})),h(a,Ec.EventType.CLOSE,(function(){c||(c=!0,Ac("Connection","WebChannel transport closed"),l.Ru())})),h(a,Ec.EventType.ERROR,(function(t){c||(c=!0,Nc("Connection","WebChannel transport errored:",t),l.Ru(new Bc(zc.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ec.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Rc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ac("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Jh[t];if(void 0!==e)return sf(e)}(i),s=r.message;void 0===o&&(o=zc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Bc(o,s)),a.close()}else Ac("Connection","WebChannel received:",n),l.Pu(n)}})),h(i,Oc.STAT_EVENT,(function(t){10===t.stat?Ac("Connection","Detected buffering proxy"):11===t.stat&&Ac("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Au()}),0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Ac("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return Ac("RestConnection","Received: ",t),t}),(function(e){throw Nc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Fg[t]},t}());function zg(){return"undefined"!=typeof window?window:null}function Bg(){return"undefined"!=typeof document?document:null}function Gg(t){return new Lf(t,!0)}var $g=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Ac("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Kg=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new $g(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===zc.RESOURCE_EXHAUSTED?(kc(e.toString()),kc("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===zc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new Bc(zc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Object(Ic.b)(t,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return Ac("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(Ac("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Qg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Ic.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Rc(void 0===e||"string"==typeof e),Hc.fromBase64String(e||"")):(Rc(void 0===e||e instanceof Uint8Array),Hc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?zc.UNKNOWN:sf(t.code);return new Bc(e,t.message||"")}(a);n=new Af(r,i,o,s||null)}else if("documentChange"in e){i=Gf(t,(r=e.documentChange).document.name),o=qf(r.document.updateTime);var a=new kl({mapValue:{fields:r.document.fields}}),u=(s=new Rl(i,o,a,{}),r.targetIds||[]);n=new xf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Gf(t,(r=e.documentDelete).document),o=r.readTime?qf(r.readTime):tl.min(),a=new Vl(i,o),n=new xf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Gf(t,(r=e.documentRemove).document),n=new xf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dc();var c=e.filter;i=new rf(r=c.count||0),n=new jf(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return tl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?tl.min():e.readTime?qf(e.readTime):tl.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Qf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Hl(r)?{documents:td(t,r)}:{query:ed(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Uf(t,e.resumeToken):e.Ot._(tl.min())>0&&(n.readTime=Mf(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dc()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Qf(this.Qt),e.removeTarget=t,this.th(e)},e}(Kg),Wg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Rc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Rc(void 0!==e),t.map((function(t){return function(t,e){var n=qf(t.updateTime?t.updateTime:e);n.isEqual(tl.min())&&(n=qf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Mh(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=qf(t.commitTime);return this.listener.dh(n,e)}return Rc(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Qf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Zf(e.Qt,t)}))};this.th(n)},e}(Kg),Yg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Ic.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Bc(zc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===zc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===zc.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Xg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(kc(e),this.Rh=!1):Ac("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Zg=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Object(Ic.b)(o,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return ay(this)?(Ac("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return(e=Vc(t)).Nh.add(4),[4,ty(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Jg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new Xg(n,r)};function Jg(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:if(!ay(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ty(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ey(t,e){var n=Vc(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),sy(n)?oy(n):Oy(n).Hu()&&ry(n,e))}function ny(t,e){var n=Vc(t),r=Oy(n);n.xh.delete(e),r.Hu()&&iy(n,e),0===n.xh.size&&(r.Hu()?r.Xu():ay(n)&&n.Oh.set("Unknown"))}function ry(t,e){t.kh.on(e.targetId),Oy(t).uh(e)}function iy(t,e){t.kh.on(e),Oy(t).hh(e)}function oy(t){t.kh=new Nf({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Oy(t).start(),t.Oh.Ph()}function sy(t){return ay(t)&&!Oy(t).zu()&&t.xh.size>0}function ay(t){return 0===Vc(t).Nh.size}function uy(t){t.kh=void 0}function cy(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){return t.xh.forEach((function(e,n){ry(t,e)})),[2]}))}))}function ly(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(n){return uy(t),sy(t)?(t.Oh.Vh(e),oy(t)):t.Oh.set("Unknown"),[2]}))}))}function hy(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ic.d)(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Af&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ic.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ac("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,fy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof xf?t.kh.dn(e):e instanceof jf?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(tl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,sg(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Hc.T,n.Ot)),iy(t,e);var r=new _h(n.target,e,1,n.sequenceNumber);ry(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ac("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,fy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function fy(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r=this;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:if(!bd(e))throw e;return t.Nh.add(1),[4,ty(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return sg(t.bh)}),t._s.po((function(){return Object(Ic.b)(r,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return Ac("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Jg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function dy(t,e){return e().catch((function(n){return fy(t,n,e)}))}function py(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ic.d)(this,(function(s){switch(s.label){case 0:e=Vc(t),n=Ey(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ay(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,cg(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Ey(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,fy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return gy(e)&&yy(e),[2]}}))}))}function gy(t){return ay(t)&&!Ey(t).zu()&&t.Ch.length>0}function yy(t){Ey(t).start()}function vy(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){return Ey(t).Eh(),[2]}))}))}function my(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Ic.d)(this,(function(i){for(e=Ey(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]}))}))}function by(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Zd.from(r,e,n),[4,dy(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,py(t)];case 2:return o.sent(),[2]}}))}))}function wy(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e&&Ey(t)._h?[4,function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return of(r=e.code)&&r!==zc.ABORTED?(n=t.Ch.shift(),Ey(t).Yu(),[4,dy(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,py(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gy(t)&&yy(t),[2]}}))}))}function _y(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return n=Vc(t),e?(n.Nh.delete(2),[4,Jg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,ty(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Oy(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Vc(t);return r.Ih(),new Qg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:cy.bind(null,t),Tu:ly.bind(null,t),ah:hy.bind(null,t)}),t.$h.push((function(n){return Object(Ic.b)(e,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),sy(t)?oy(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),uy(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function Ey(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Vc(t);return r.Ih(),new Wg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:vy.bind(null,t),Tu:wy.bind(null,t),wh:my.bind(null,t),dh:by.bind(null,t)}),t.$h.push((function(n){return Object(Ic.b)(e,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,py(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Ac("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var Cy=function(){this.Kh=void 0,this.listeners=[]},Iy=function(){this.queries=new wp((function(t){return yh(t)}),gh),this.onlineState="Unknown",this.Wh=new Set};function Ty(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ic.d)(this,(function(c){switch(c.label){case 0:if(n=Vc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Cy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Id(a,"Initialization of query '"+vh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Ay(n),[2]}}))}))}function Sy(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ic.d)(this,(function(a){return n=Vc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function xy(t,e){for(var n=Vc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Ay(n)}function jy(t,e,n){var r=Vc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ay(t){t.Wh.forEach((function(t){t.next()}))}var ky=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new If(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=If.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Ny=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Py=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Gf(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Xf(this.Qt,t.document,!1):new Vl(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return qf(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Py(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||wf()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return[4,yg(this.bh,new Py(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,vg(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Zp(Object.assign({},this.progress),t))]}}))}))}}();var Dy=function(t){this.key=t},Ry=function(t){this.key=t},Vy=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=wf(),this.De=wf(),this.hl=bh(t),this.ll=new Ef(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Cf,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=ah(this.query)&&i.size===this.query.limit?i.last():null,c=uh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof Rl?e:null;h&&(h=mh(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),ah(this.query)||uh(this.query))for(;s.size>this.query.limit;){var l=ah(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dc()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new If(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Cf,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=wf(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Ry(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Dy(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=wf();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return If.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Ly=function(t,e,n){this.query=t,this.targetId=e,this.view=n},My=function(t){this.key=t,this.Pl=!1},Uy=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new wp((function(t){return yh(t)}),gh),this.Sl=new Map,this.Dl=new Set,this.Cl=new af(ol.H),this.xl=new Map,this.Nl=new bg,this.$l={},this.Fl=new Map,this.Ol=jp.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Fy(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:return n=gv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,lg(n.bh,dh(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,qy(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&ey(n.yl,o),a.label=4;case 4:return[2,r]}}))}))}function qy(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Ic.d)(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,fg(t.bh,e.query,!1).then((function(t){return e.view.fl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(tv(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,fg(t.bh,e,!0)];case 1:return i=l.sent(),o=new Vy(e,i.Rc),s=o.fl(i.documents),a=Sf.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),tv(t,n,u.Il),c=new Ly(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Hy(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return n=Vc(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!gh(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,hg(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),ny(n.yl,r.targetId),Zy(n,r.targetId)})).catch(bp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Zy(n,r.targetId),[4,hg(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function zy(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:r=yv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Vc(t),i=Jc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),wf());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Bh(c,n.get(c.key));null!=l&&s.push(new Qh(c.key,l,Pl(l.proto.mapValue),Uh.exists(!0)))}return r.zo.Ri(t,i,s,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new af(Uc)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,rv(r,i.ri)];case 3:return a.sent(),[4,py(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Id(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function By(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:n=Vc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ag(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(Rc(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Rc(r.Pl):t.Qe.size>0&&(Rc(r.Pl),r.Pl=!1))})),[4,rv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,bp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Gy(t,e,n){var r=Vc(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Vc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&Ay(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function $y(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Ic.d)(this,(function(c){switch(c.label){case 0:return(r=Vc(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new af(ol.H)).zt(o,new Vl(o,tl.min())),a=wf().add(o),u=new Tf(tl.min(),new Map,new lf(Uc),s,a),[4,By(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),nv(r),[3,4];case 2:return[4,hg(r.bh,e,!1).then((function(){return Zy(r,e,n)})).catch(bp)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ky(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:n=Vc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,og(n.bh,e)];case 2:return i=o.sent(),Xy(n,r,null),Yy(n,r),n.Vl.Na(r,"acknowledged"),[4,rv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Qy(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:r=Vc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Vc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return Rc(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Xy(r,e,n),Yy(r,e),r.Vl.Na(e,"rejected",n),[4,rv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Wy(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:ay((n=Vc(t)).yl)||Ac("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Vc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Id(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Yy(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function Xy(t,e,n){var r=Vc(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Zy(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||Jy(t,e)}))}function Jy(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(ny(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),nv(t))}function tv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Dy?(t.Nl.nr(o.key,e),ev(t,o)):o instanceof Ry?(Ac("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||Jy(t,o.key)):Dc()}}function ev(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Ac("SyncEngine","New document in limbo: "+n),t.Dl.add(r),nv(t))}function nv(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ol(nl.ot(e)),r=t.Ol.next();t.xl.set(r,new My(n)),t.Cl=t.Cl.zt(n,r),ey(t.yl,new _h(dh(sh(n.path)),r,2,Zc.q))}}function rv(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:return r=Vc(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=tg.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Ic.d)(this,(function(l){switch(l.label){case 0:n=Vc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pd.forEach(e,(function(e){return pd.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return pd.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!bd(r=l.sent()))throw r;return Ac("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function iv(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return(n=Vc(t)).currentUser.isEqual(e)?[3,3]:(Ac("SyncEngine","User change. New user:",e.A()),[4,ig(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new Bc(zc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,rv(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ov(t,e){var n=Vc(t),r=n.xl.get(e);if(r&&r.Pl)return wf().add(r.key);var i=wf(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function sv(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return[4,fg((n=Vc(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&tv(n,e.targetId,i.Il),i)]}}))}))}function av(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){return[2,pg((e=Vc(t)).bh).then((function(t){return rv(e,t)}))]}))}))}function uv(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o;return Object(Ic.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Vc(t),r=Vc(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):pd.resolve(null)}))}))}((i=Vc(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,py(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xy(i,e,r||null),Yy(i,e),function(t,e){Vc(Vc(t).zo).xi(e)}(i.bh,e)):Dc(),s.label=4;case 4:return[4,rv(i,o)];case 5:return s.sent(),[3,7];case 6:Ac("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function cv(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Ic.d)(this,(function(c){switch(c.label){case 0:return gv(n=Vc(t)),yv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,lv(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,_y(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ey(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then((function(){return Zy(n,e),hg(n.bh,e,!0)})),ny(n.yl,e)})),[4,u]);case 4:return c.sent(),[4,lv(n,a)];case 5:return c.sent(),function(t){var e=Vc(t);e.xl.forEach((function(t,n){ny(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new af(ol.H)}(n),n.kl=!1,[4,_y(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function lv(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ic.d)(this,(function(g){switch(g.label){case 0:n=Vc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,lg(n.bh,dh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,sv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,dg(n.bh,a)];case 8:return p=g.sent(),[4,lg(n.bh,p)];case 9:return u=g.sent(),[4,qy(n,hv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function hv(t){return oh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fv(t){var e=Vc(t);return Vc(Vc(e.bh).persistence).Uo()}function dv(t,e,n,r){return Object(Ic.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ic.d)(this,(function(a){switch(a.label){case 0:return(i=Vc(t)).kl?(Ac("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pg(i.bh)];case 3:return o=a.sent(),s=Tf.Me(e,"current"===n),[4,rv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,hg(i.bh,e,!0)];case 6:return a.sent(),Zy(i,e,r),[3,8];case 7:Dc(),a.label=8;case 8:return[2]}}))}))}function pv(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Ic.d)(this,(function(f){switch(f.label){case 0:if(!(r=gv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Ac("SyncEngine","Adding an already active target "+s),[3,5]):[4,dg(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,lg(r.bh,a)];case 3:return u=f.sent(),[4,qy(r,hv(a),u.targetId,!1)];case 4:f.sent(),ey(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,hg(r.bh,t,!1).then((function(){ny(r.yl,t),Zy(r,t)})).catch(bp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function gv(t){var e=Vc(t);return e.yl.Dh.Lh=By.bind(null,e),e.yl.Dh.vn=ov.bind(null,e),e.yl.Dh.Mh=$y.bind(null,e),e.bl.ah=xy.bind(null,e.gl),e.bl.Bl=jy.bind(null,e.gl),e}function yv(t){var e=Vc(t);return e.yl.Dh.Bh=Ky.bind(null,e),e.yl.Dh.qh=Qy.bind(null,e),e}var vv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return this.Qt=Gg(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return rg(this.persistence,new eg,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Ig(Sg.ia,this.Qt)},t.prototype.Wl=function(t){return new Lg},t.prototype.terminate=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ic.c)(e,t),e.prototype.initialize=function(e){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,gg(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,yv(this.Yl._a)];case 4:return n.sent(),[4,py(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return rg(this.persistence,new eg,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Vp(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Xp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?mp.Ys(this.cacheSizeBytes):mp.ti;return new Qp(this.synchronizeTabs,e,t.clientId,n,t._s,zg(),Bg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Lg},e}(vv),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ic.c)(e,t),e.prototype.initialize=function(e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Vg?(this.Vl._a={eu:uv.bind(null,n),nu:dv.bind(null,n),su:pv.bind(null,n),Uo:fv.bind(null,n),tu:av.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Object(Ic.b)(r,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return[4,cv(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=zg();if(!Vg.Kn(e))throw new Bc(zc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xp(t.yu.t,t.yu.persistenceKey);return new Vg(e,t._s,n,t.clientId,t.Jl)},e}(mv),wv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n=this;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Gy(n._a,t,1)},this.yl.Dh.n_=iv.bind(null,this._a),[4,_y(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new Iy},t.prototype.Xl=function(t){var e=Gg(t.yu.t),n=new Hg(t.yu);return function(t,e,n){return new Yg(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Gy(s._a,t,0)},o=Ug.Kn()?new Ug:new Mg,new Zg(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Uy(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e=Vc(t),Ac("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,ty(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),_v=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ov=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new dd,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Ny(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Bc(zc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new il(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Ev=function(t){this._methodName=t},Cv=function(t){this.d_=t};function Iv(t,e,n){if(!n)throw new Bc(zc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Tv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bc(zc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Sv(t,e,n,r){if(!0===e&&!0===r)throw new Bc(zc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function xv(t){if(!ol.wt(t))throw new Bc(zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jv(t){if(ol.wt(t))throw new Bc(zc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Av(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dc()}function kv(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Bc(zc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Av(t);throw new Bc(zc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Nv(t,e){if(e<=0)throw new Bc(zc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Pv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Bc(zc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bc(zc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Sv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Dv=new Map,Rv=function(){function t(t,e){this.w_="(lite)",this.E_=new Pv({}),this.T_=!1,t instanceof Sc?(this.I_=t,this.m_=new Qc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Bc(zc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(t.options.projectId)}(t),this.m_=new Wc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Bc(zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Bc(zc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Pv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Qc;switch(t.type){case"gapi":var e=t.client;return Rc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Bc(zc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Dv.get(this))&&(Ac("ComponentProvider","Removing Datastore"),Dv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mv(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Lv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,sh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Vv(this.firestore,null,new ol(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Lv);function Uv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Cv&&(t=t.d_),Iv("collection","path",e),t instanceof Rv)return jv(n=nl.ot.apply(nl,Object(Ic.g)([e],r))),new Mv(t,null,n);if(!(t instanceof Vv||t instanceof Mv))throw new Bc(zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jv(n=nl.ot.apply(nl,Object(Ic.g)([t.path],r)).child(nl.ot(e))),new Mv(t.firestore,null,n)}function Fv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Cv&&(t=t.d_),1===arguments.length&&(e=Mc.u()),Iv("doc","path",e),t instanceof Rv)return xv(n=nl.ot.apply(nl,Object(Ic.g)([e],r))),new Vv(t,null,new ol(n));if(!(t instanceof Vv||t instanceof Mv))throw new Bc(zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xv(n=t.D_.child(nl.ot.apply(nl,Object(Ic.g)([e],r)))),new Vv(t.firestore,t instanceof Mv?t.v_:null,new ol(n))}function qv(t,e){return t instanceof Cv&&(t=t.d_),e instanceof Cv&&(e=e.d_),(t instanceof Vv||t instanceof Mv)&&(e instanceof Vv||e instanceof Mv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Hv(t,e){return t instanceof Cv&&(t=t.d_),e instanceof Cv&&(e=e.d_),t instanceof Lv&&e instanceof Lv&&t.firestore===e.firestore&&gh(t.C_,e.C_)&&t.v_===e.v_}var zv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Bc(zc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Bc(zc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Uc(this.x_,t.x_)||Uc(this.N_,t.N_)},t}(),Bv=/^__.*__$/,Gv=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Qh(t,this.data,this.Gt,e,this.fieldTransforms):new Kh(t,this.data,e,this.fieldTransforms)},t}(),$v=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Qh(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Kv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dc()}}var Qv=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return pm(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Kv(this.k_)&&Bv.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Wv=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Gg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Qv({k_:t,methodName:e,j_:n,path:il.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Yv(t){var e=t.p_(),n=Gg(t.I_);return new Wv(t.I_,!!e.ignoreUndefinedProperties,n)}function Xv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);lm("Data must be an object, but it was:",s,r);var a,u,c=um(r,s);if(o.merge)a=new cl(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=hm(e,f[h],n);if(!s.contains(d))throw new Bc(zc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");gm(l,d)||l.push(d)}a=new cl(l),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new Gv(new kl(c),a,u)}var Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ev);function Jv(t,e,n){return new Qv({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.z_=function(t){return new Lh(t.path,new jh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ev),em=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ic.c)(e,t),e.prototype.z_=function(t){var e=Jv(this,t,!0),n=this.H_.map((function(t){return am(t,e)})),r=new Ah(n);return new Lh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ev),nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ic.c)(e,t),e.prototype.z_=function(t){var e=Jv(this,t,!0),n=this.H_.map((function(t){return am(t,e)})),r=new Nh(n);return new Lh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ev),rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ic.c)(e,t),e.prototype.z_=function(t){var e=new Dh(t.Qt,Ch(t.Qt,this.J_));return new Lh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ev);function im(t,e,n,r){var i=t.G_(1,e,n);lm("Data must be an object, but it was:",i,r);var o=[],s=new Nl;al(r,(function(t,r){var a=dm(e,t,n);r instanceof Cv&&(r=r.d_);var u=i.U_(a);if(r instanceof Zv)o.push(a);else{var c=am(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new cl(o);return new $v(s.Pt(),a,i.fieldTransforms)}function om(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[hm(e,r,n)],u=[i];if(o.length%2!=0)throw new Bc(zc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(hm(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Nl,f=a.length-1;f>=0;--f)if(!gm(l,a[f])){var d=a[f],p=u[f];p instanceof Cv&&(p=p.d_);var g=s.U_(d);if(p instanceof Zv)l.push(d);else{var y=am(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new cl(l);return new $v(h.Pt(),v,s.fieldTransforms)}function sm(t,e,n,r){return void 0===r&&(r=!1),am(n,t.G_(r?4:3,e))}function am(t,e){if(t instanceof Cv&&(t=t.d_),cm(t))return lm("Unsupported field value:",e,t),um(t,e);if(t instanceof Ev)return function(t,e){if(!Kv(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=am(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Cv&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ch(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Jc.fromDate(t);return{timestampValue:Mf(e.Qt,n)}}if(t instanceof Jc)return n=new Jc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Mf(e.Qt,n)};if(t instanceof zv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gc)return{bytesValue:Uf(e.Qt,t.I)};if(t instanceof Vv){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Hf(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Av(t))}(t,e)}function um(t,e){var n={};return ul(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):al(t,(function(t,r){var i=am(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function cm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jc||t instanceof zv||t instanceof Gc||t instanceof Vv||t instanceof Ev)}function lm(t,e,n){if(!cm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Av(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function hm(t,e,n){if(e instanceof Cv&&(e=e.d_),e instanceof Ov)return e.f_;if("string"==typeof e)return dm(t,e);throw pm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var fm=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n){if(e.search(fm)>=0)throw pm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ov.bind.apply(Ov,Object(Ic.g)([void 0],e.split("."))))).f_}catch(r){throw pm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function pm(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Bc(zc.INVALID_ARGUMENT,(a+=". ")+t+u)}function gm(t,e){return t.some((function(t){return t.isEqual(e)}))}var ym=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Bc(zc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Ic.d)(this,(function(u){switch(u.label){case 0:return n=Vc(t),r=Qf(n.Qt)+"/documents",i={documents:e.map((function(t){return Bf(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Rc(!!e.found);var n=Gf(t,e.found.name),r=qf(e.found.updateTime),i=new kl({mapValue:{fields:e.found.fields}});return new Rl(n,r,i,{})}(t,e):"missing"in e?function(t,e){Rc(!!e.missing),Rc(!!e.readTime);var n=Gf(t,e.missing),r=qf(e.readTime);return new Vl(n,r)}(t,e):Dc()}(n.Qt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Rc(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Vl||t instanceof Rl?n.sf(t):Dc()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ef(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ol._t(n);e.mutations.push(new nf(r,e.jt(r)))})),[4,function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return n=Vc(t),r=Qf(n.Qt)+"/documents",i={writes:e.map((function(t){return Zf(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Rl)e=t.version;else{if(!(t instanceof Vl))throw Dc();e=tl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Bc(zc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Uh.updateTime(e):Uh.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(tl.min()))throw new Bc(zc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uh.updateTime(e)}return Uh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),vm=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new $g(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Object(Ic.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ic.d)(this,(function(r){return t=new ym(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!yl(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!of(e)}return!1},t}(),mm=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=$c.UNAUTHENTICATED,this.clientId=Mc.u(),this._f=function(){},this.C=new dd,this.credentials.v((function(t){Ac("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new Bc(zc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new dd;return this._s.Tf((function(){return Object(Ic.b)(t,void 0,void 0,(function(){var t,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Id(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function bm(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return t._s.Af(),Ac("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Object(Ic.b)(i,void 0,void 0,(function(){return Object(Ic.d)(this,(function(t){switch(t.label){case 0:return[4,ig(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function wm(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,_m(t)];case 1:return n=i.sent(),Ac("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Object(Ic.b)(this,void 0,void 0,(function(){var n,r;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return(n=Vc(t))._s.Af(),Ac("RemoteStore","RemoteStore received new credentials"),r=ay(n),n.Nh.add(3),[4,ty(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Jg(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function _m(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ac("FirestoreClient","Using default OfflineComponentProvider"),[4,bm(t,new vv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Om(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Ac("FirestoreClient","Using default OnlineComponentProvider"),[4,wm(t,new wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Em(t){return _m(t).then((function(t){return t.persistence}))}function Cm(t){return _m(t).then((function(t){return t.bh}))}function Im(t){return Om(t).then((function(t){return t.yl}))}function Tm(t){return Om(t).then((function(t){return t._a}))}function Sm(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return[4,Om(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Fy.bind(null,e._a),n.Hh=Hy.bind(null,e._a),n)]}}))}))}function xm(t,e,n){var r=this;void 0===n&&(n={});var i=new dd;return t._s.Ps((function(){return Object(Ic.b)(r,void 0,void 0,(function(){var r;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new _v({next:function(o){e.Ps((function(){return Sy(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Bc(zc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Bc(zc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ky(sh(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ty(t,s)},[4,Sm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function jm(t,e,n){var r=this;void 0===n&&(n={});var i=new dd;return t._s.Ps((function(){return Object(Ic.b)(r,void 0,void 0,(function(){var r;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new _v({next:function(n){e.Ps((function(){return Sy(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Bc(zc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ky(n,o,{includeMetadataChanges:!0,nl:!0});return Ty(t,s)},[4,Sm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var Am=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new $g(this,"async_queue_retry"),this.vf=function(){var e=Bg();e&&Ac("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!bd(t=n.sent()))throw t;return Ac("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,kc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Cd.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Dc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ic.b)(this,void 0,void 0,(function(){var t;return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function km(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new dd,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Am,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ic.c)(e,t),e.prototype.b_=function(){return this.qf||Dm(this),this.qf.terminate()},e}(Rv);function Pm(t){return t.qf||Dm(t),t.qf.df(),t.qf}function Dm(t){var e=t.p_(),n=function(t,e,n){return new Tc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new mm(t.m_,t.Bf,n)}function Rm(t,e,n){var r=this,i=new dd;return t._s.enqueue((function(){return Object(Ic.b)(r,void 0,void 0,(function(){var r;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bm(t,n)];case 1:return o.sent(),[4,wm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===zc.FAILED_PRECONDITION||t.code===zc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Vm(t){if(t.R_||t.P_)throw new Bc(zc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Lm=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),bl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fl(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(dl(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Dc()}},t.prototype.Hf=function(t,e){var n=this,r={};return al(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new zv(fl(t.latitude),fl(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return pl(n)?t(n):n}(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(gl(t));default:return null}},t.prototype.Qf=function(t){var e=hl(t);return new Jc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=nl.ot(t);Rc(fd(n));var r=new Sc(n.get(1),n.get(3)),i=new ol(n.Y(5));return r.isEqual(e)||kc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Mm=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vv(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Um(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Fm("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Um=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Mm);function Fm(t,e){return"string"==typeof e?dm(t,e):e instanceof Cv?e.d_.f_:e.f_}function qm(t){if(uh(t)&&0===t.xt.length)throw new Bc(zc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hm=function(){};function zm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Ic.c)(e,t),e.prototype.td=function(t){var e=Yv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Bc(zc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Ym(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ym(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xm(s,o),a=sm(n,"where",s,"in"===o||"not-in"===o);var h=zl.create(i,o,a);return function(t,e){if(e.Ct()){var n=lh(t);if(null!==n&&!n.isEqual(e.field))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ch(t);null!==r&&Zm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Bc(zc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Lv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ih(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Hm),Gm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Ic.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new th(e,n);return function(t,e){if(null===ch(t)){var n=lh(t);null!==n&&Zm(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Lv(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new ih(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Hm),$m=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Ic.c)(e,t),e.prototype.td=function(t){return new Lv(t.firestore,t.v_,ph(t.C_,this.od,this.ad))},e}(Hm),Km=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ic.c)(e,t),e.prototype.td=function(t){var e=Wm(t,this.type,this.ud,this.hd);return new Lv(t.firestore,t.v_,function(t,e){return new ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Hm),Qm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Ic.c)(e,t),e.prototype.td=function(t){var e=Wm(t,this.type,this.ud,this.hd);return new Lv(t.firestore,t.v_,function(t,e){return new ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Hm);function Wm(t,e,n,r){if(n[0]instanceof Cv&&(n[0]=n[0].d_),n[0]instanceof Mm)return function(t,e,n,r,i){if(!r)throw new Bc(zc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=fh(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(Il(e,r.key));else{var c=r.field(u.field);if(pl(c))throw new Bc(zc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Zl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Yv(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Bc(zc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hh(t)&&-1!==c.indexOf("/"))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(nl.ot(c));if(!ol.wt(l))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ol(l);a.push(Il(e,h))}else{var f=sm(n,r,c);a.push(f)}}return new Zl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Ym(t,e,n){if(n instanceof Cv&&(n=n.d_),"string"==typeof n){if(""===n)throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hh(e)&&-1!==n.indexOf("/"))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(nl.ot(n));if(!ol.wt(r))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Il(t,new ol(r))}if(n instanceof Vv)return Il(t,n.S_);throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Av(n)+".")}function Xm(t,e){if(!Array.isArray(t)||0===t.length)throw new Bc(zc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Bc(zc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zm(t,e,n){if(!n.isEqual(e))throw new Bc(zc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Jm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ic.c)(e,t),e.prototype.Wf=function(t){return new Gc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Vv(this.firestore,null,e)},e}(Lm),eb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),nb=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(Ic.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new rb(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Fm("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Mm),rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(nb),ib=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new eb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new rb(n.Yf,n.Xf,r.key,r,new eb(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Bc(zc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){return{type:"added",doc:new rb(t.Yf,t.Xf,e.doc.key,e.doc,new eb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new rb(t.Yf,t.Xf,e.doc.key,e.doc,new eb(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ob(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dc()}}function sb(t,e){return t instanceof nb&&e instanceof nb?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof ib&&e instanceof ib&&t.Yf===e.Yf&&Hv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var ab=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ic.c)(e,t),e.prototype.Wf=function(t){return new Gc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Vv(this.firestore,null,e)},e}(Lm);function ub(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=kv(t,Vv);var o=kv(t.firestore,Nm),s=Yv(o);return e instanceof Cv&&(e=e.d_),lb(o,[("string"==typeof e||e instanceof Ov?om(s,"updateDoc",t.S_,e,n,r):im(s,"updateDoc",t.S_,e)).F_(t.S_,Uh.exists(!0))])}function cb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Cv&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||km(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(km(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Vv)c=kv(t.firestore,Nm),l=sh(t.S_.path),u={next:function(e){i[a]&&i[a](hb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=kv(t,Lv);c=kv(d.firestore,Nm),l=d.C_;var p=new ab(c);u={next:function(t){i[a]&&i[a](new ib(c,p,d,t))},error:i[a+1],complete:i[a+2]},qm(t.C_)}return function(t,e,n,r){var i=this,o=new _v(r),s=new ky(e,o,n);return t._s.Ps((function(){return Object(Ic.b)(i,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e=Ty,[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Object(Ic.b)(i,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e=Sy,[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Pm(c),l,h,u)}function lb(t,e){return function(t,e){var n=this,r=new dd;return t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var n;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return n=zy,[4,Tm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Pm(t),e)}function hb(t,e,n){var r=n.docs.get(e.S_),i=new ab(t);return new nb(t,i,e.S_,r,new eb(n.hasPendingWrites,n.fromCache),e.v_)}var fb=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Yv(t)}return t.prototype.set=function(t,e,n){this.md();var r=db(t,this.Yf),i=Jm(r.v_,e,n),o=Xv(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Uh.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=db(t,this.Yf);return e instanceof Cv&&(e=e.d_),o="string"==typeof e||e instanceof Ov?om(this.Id,"WriteBatch.update",s.S_,e,n,r):im(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Uh.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=db(t,this.Yf);return this.Ed=this.Ed.concat(new ef(e.S_,Uh.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Bc(zc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function db(t,e){if(t instanceof Cv&&(t=t.d_),t.firestore!==e)throw new Bc(zc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Ic.c)(e,t),e.prototype.get=function(e){var n=this,r=db(e,this.Yf),i=new ab(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new nb(n.Yf,i,r.S_,t.Zf,new eb(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Yv(t)}return t.prototype.get=function(t){var e=this,n=db(t,this.Yf),r=new tb(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Dc();var i=t[0];if(i instanceof Vl)return new Mm(e.Yf,r,n.S_,null,n.v_);if(i instanceof Rl)return new Mm(e.Yf,r,i.key,i,n.v_);throw Dc()}))},t.prototype.set=function(t,e,n){var r=db(t,this.Yf),i=Jm(r.v_,e,n),o=Xv(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=db(t,this.Yf);return e instanceof Cv&&(e=e.d_),o="string"==typeof e||e instanceof Ov?om(this.Id,"Transaction.update",s.S_,e,n,r):im(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=db(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function gb(){if("undefined"==typeof Uint8Array)throw new Bc(zc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yb(){if("undefined"==typeof atob)throw new Bc(zc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.fromBase64String=function(t){return yb(),new e(Gc.fromBase64String(t))},e.fromUint8Array=function(t){return gb(),new e(Gc.fromUint8Array(t))},e.prototype.toBase64=function(){return yb(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return gb(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Cv),mb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Vm(t=kv(t,Nm));var n=Pm(t),r=t.p_(),i=new wv;return Rm(n,i,new mv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Vm(t=kv(t,Nm));var e=Pm(t),n=t.p_(),r=new wv;return Rm(e,r,new bv(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Bc(zc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new dd;return t.Bf.Tf((function(){return Object(Ic.b)(e,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ic.b)(this,void 0,void 0,(function(){return Object(Ic.d)(this,(function(e){switch(e.label){case 0:return yd.Kn()?[4,yd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Xp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Sc||(i.Pd=e),i}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=kv(t,Rv)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(Ic.b)(e,void 0,void 0,(function(){var e,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return[4,Em(t)];case 1:return e=r.sent(),[4,Im(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Vc(t);return e.Nh.delete(0),Jg(e)}(n))]}}))}))}))}(Pm(kv(this.d_,Nm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(Ic.b)(e,void 0,void 0,(function(){var e,n;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return[4,Em(t)];case 1:return e=r.sent(),[4,Im(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Ic.b)(this,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return(e=Vc(t)).Nh.add(0),[4,ty(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Pm(kv(this.d_,Nm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Sv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new dd;return t._s.Ps((function(){return Object(Ic.b)(e,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(r){switch(r.label){case 0:return e=Wy,[4,Tm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Pm(kv(this.d_,Nm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new _v(e);return t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vc(t).Wh.add(e),e.next()},[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var e;return Object(Ic.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Vc(t).Wh.delete(e)},[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Pm(t=kv(t,Nm)),km(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Bc(zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pb(this,Uv(this.d_,t))}catch(t){throw Ib(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Cb(this,Fv(this.d_,t))}catch(t){throw Ib(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ab(this,function(t,e){if(t=kv(t,Rv),Iv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bc(zc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Lv(t,null,function(t){return new ih(nl.ct(),t)}(e))}(this.d_,t))}catch(t){throw Ib(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new dd;return t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var n;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Om(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new vm(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(Pm(t),(function(n){return e(new pb(t,n))}))}(this.d_,(function(n){return t(new _b(e,n))}))},e.prototype.batch=function(){var t=this;return Pm(this.d_),new Ob(new fb(this.d_,(function(e){return lb(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new Bc(zc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Bc(zc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Cv),wb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ic.c)(e,t),e.prototype.Wf=function(t){return new vb(new Gc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Cb.yd(e,this.firestore,null)},e}(Lm),_b=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new wb(e),r}return Object(Ic.c)(e,t),e.prototype.get=function(t){var e=this,n=Db(t);return this.d_.get(n).then((function(t){return new xb(e.Yf,new nb(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Db(t);return n?(Tv("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Db(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ic.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Db(t);return this.d_.delete(e),this},e}(Cv),Ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.set=function(t,e,n){var r=Db(t);return n?(Tv("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Db(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Ic.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Db(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Cv),Eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Ic.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new rb(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new jb(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wb(t),n),i.set(n,o)),o},e}(Cv);Eb.Vd=new WeakMap;var Cb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new wb(e),r}return Object(Ic.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Bc(zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Vv(n.d_,r,new ol(t)))},e.yd=function(t,n,r){return new e(n,new Vv(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Pb(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pb(this.firestore,Uv(this.d_,t))}catch(t){throw Ib(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Cv&&(t=t.d_),t instanceof Vv&&qv(this.d_,t)},e.prototype.set=function(t,e){e=Tv("DocumentReference.set",e);try{return function(t,e,n){t=kv(t,Vv);var r=kv(t.firestore,Nm),i=Jm(t.v_,e,n);return lb(r,[Xv(Yv(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Uh.Kt())])}(this.d_,t,e)}catch(t){throw Ib(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ub(this.d_,t):ub.apply(void 0,Object(Ic.g)([this.d_,t,e],n))}catch(t){throw Ib(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return lb(kv((t=this.d_).firestore,Nm),[new ef(t.S_,Uh.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=Sb(e,(function(e){return new xb(t.firestore,new nb(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return cb(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=kv(t,Vv);var e=kv(t.firestore,Nm),n=Pm(e),r=new ab(e);return function(t,e){var n=this,r=new dd;return t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var n;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i;return Object(Ic.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Vc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Rl?n.resolve(i):i instanceof Vl?n.resolve(null):n.reject(new Bc(zc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Id(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Cm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new nb(e,r,t.S_,n,new eb(n instanceof Rl&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=kv(t,Vv);var e=kv(t.firestore,Nm);return xm(Pm(e),t.S_,{source:"server"}).then((function(n){return hb(e,t,n)}))}(this.d_):function(t){t=kv(t,Vv);var e=kv(t.firestore,Nm);return xm(Pm(e),t.S_).then((function(n){return hb(e,t,n)}))}(this.d_)).then((function(t){return new xb(e.firestore,new nb(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Eb.gd(this.firestore,t)))},e}(Cv);function Ib(t,e,n){return t.message=t.message.replace(e,n),t}function Tb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!km(r))return r}return{}}function Sb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=km(t[0])?t[0]:km(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cb(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return sb(this.d_,t.d_)},e}(Cv),jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(xb),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new wb(e),r}return Object(Ic.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zm(this.d_,function(t,e,n){var r=e,i=Fm("where",t);return new Bm(i,r,n)}(t,n,r)))}catch(t){throw Ib(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zm(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Fm("orderBy",t);return new Gm(r,n)}(t,n)))}catch(t){throw Ib(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zm(this.d_,function(t){return Nv("limit",t),new $m("limit",t,"F")}(t)))}catch(t){throw Ib(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zm(this.d_,function(t){return Nv("limitToLast",t),new $m("limitToLast",t,"L")}(t)))}catch(t){throw Ib(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Km("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Ib(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Km("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Ib(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Ib(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Ib(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Hv(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=kv(t,Lv);var e=kv(t.firestore,Nm),n=Pm(e),r=new ab(e);return function(t,e){var n=this,r=new dd;return t._s.Ps((function(){return Object(Ic.b)(n,void 0,void 0,(function(){var n;return Object(Ic.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ic.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Ic.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,fg(t,e,!0)];case 1:return a=u.sent(),r=new Vy(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Id(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Cm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new ib(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=kv(t,Lv);var e=kv(t.firestore,Nm),n=Pm(e),r=new ab(e);return jm(n,t.C_,{source:"server"}).then((function(n){return new ib(e,r,t,n)}))}(this.d_):function(t){t=kv(t,Lv);var e=kv(t.firestore,Nm),n=Pm(e),r=new ab(e);return qm(t.C_),jm(n,t.C_).then((function(n){return new ib(e,r,t,n)}))}(this.d_)).then((function(t){return new Nb(e.firestore,new ib(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=Sb(e,(function(e){return new Nb(t.firestore,new ib(t.firestore.d_,t.Xf,t.d_,e._d))}));return cb(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Eb.gd(this.firestore,t)))},e}(Cv),kb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new jb(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Cv),Nb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ab(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new jb(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new kb(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new jb(n.Yf,r))}))},e.prototype.isEqual=function(t){return sb(this.d_,t.d_)},e}(Cv),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Ic.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Cb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cb(this.firestore,void 0===t?Fv(this.d_):Fv(this.d_,t))}catch(t){throw Ib(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=kv(t.firestore,Nm),r=Fv(t),i=Jm(t.v_,e);return lb(n,[Xv(Yv(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Uh.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new Cb(e.firestore,t)}))},e.prototype.isEqual=function(t){return qv(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Eb.gd(this.firestore,t)))},e}(Ab);function Db(t){return t instanceof Cv&&(t=t.d_),kv(t,Vv)}var Rb,Vb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ov.bind.apply(Ov,Object(Ic.g)([void 0],e))))||this}return Object(Ic.c)(e,t),e.documentId=function(){return new e(il.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Cv&&(t=t.d_),t instanceof Ov&&this.d_.f_.isEqual(t.f_)},e}(Cv),Lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ic.c)(e,t),e.serverTimestamp=function(){var t=new tm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Zv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new em("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nm("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new rm("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Cv),Mb=n("/6Yf"),Ub={Firestore:bb,GeoPoint:zv,Timestamp:Jc,Blob:vb,Transaction:_b,WriteBatch:Ob,DocumentReference:Cb,DocumentSnapshot:xb,Query:Ab,QueryDocumentSnapshot:jb,QuerySnapshot:Nb,CollectionReference:Pb,FieldPath:Vb,FieldValue:Lb,setLogLevel:function(t){xc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Mb.a("firestore",(function(t){return function(t,e){return new bb(t,new Nm(t,e),new mb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ub)))})(Rb=Eo.a),Rb.registerVersion("@firebase/firestore","2.1.7");var Fb=n("VRyK"),qb=n("qgXg"),Hb=n("Ylt2");class zb extends Ce.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Bb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ie.a;if(this.isStopped||this.hasError?o=En.a.EMPTY:(this.observers.push(t),o=new Hb.a(this,t)),r&&t.add(t=new _o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||qb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Bb{constructor(t,e){this.time=t,this.value=e}}function Gb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new zb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function $b(t,e){return e?on(()=>t,e):on(()=>t)}var Kb=n("tf+s");const Qb=new r.q("angularfire2.auth.use-emulator"),Wb=new r.q("angularfire2.auth.settings"),Yb=new r.q("angularfire2.auth.tenant-id"),Xb=new r.q("angularfire2.auth.langugage-code"),Zb=new r.q("angularfire2.auth.use-device-language"),Jb=new r.q("angularfire.auth.persistence");let tw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Oo.d(i),f=Object(Oo.h)(h),d=new Ce.a,p=Object(Ee.a)(void 0).pipe(Object(_o.b)(h.outsideAngular),on(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(mt.a)(()=>Object(Oo.g)(t,i,e)),Object(mt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Oo.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Gb({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ee.a)(null);else{p.pipe(_n()).subscribe();const t=p.pipe(on(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Gb({bufferSize:1,refCount:!1})),e=t=>new yt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(on(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(on(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe($b(n),Object(Kb.a)(h.outsideAngular),Object(_o.b)(h.insideAngular)),this.user=t.pipe($b(r),Object(Kb.a)(h.outsideAngular),Object(_o.b)(h.insideAngular)),this.idToken=this.user.pipe(on(t=>t?Object(wt.a)(t.getIdToken()):Object(Ee.a)(null))),this.idTokenResult=this.user.pipe(on(t=>t?Object(wt.a)(t.getIdTokenResult()):Object(Ee.a)(null))),this.credential=Object(Fb.a)(t,d,this.authState.pipe(He(t=>!t))).pipe(Object(mt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Kb.a)(h.outsideAngular),Object(_o.b)(h.insideAngular))}return Object(Oo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Oo.c),r.Pb(Oo.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Qb,8),r.Pb(Wb,8),r.Pb(Yb,8),r.Pb(Xb,8),r.Pb(Zb,8),r.Pb(Jb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Oo.c),Object(r.Pb)(Oo.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Qb,8),Object(r.Pb)(Wb,8),Object(r.Pb)(Yb,8),Object(r.Pb)(Xb,8),Object(r.Pb)(Zb,8),Object(r.Pb)(Jb,8))},token:t,providedIn:"any"}),t})();function ew(t,e){return function(t,e=go.a){return new yt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function nw(t,e){return ew(t,e).pipe(Object(mt.a)(t=>({payload:t,type:"query"})))}function rw(t,e){return nw(t,e).pipe(fn(void 0),yo(),Object(mt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function iw(t,e,n){return rw(t,n).pipe(dn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ow(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ow(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ow(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new bo(void 0,void 0)),Object(mt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function ow(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function sw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class aw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=rw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fn(void 0),yo(),He(([t,e])=>e.length>0||!t),Object(mt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(dn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sw(t);return iw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return nw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(_o.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new uw(this.ref.doc(t),this.afs)}}class uw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=pw(n,e);return new aw(r,i,this.afs)}snapshotChanges(){return ew(this.ref,this.afs.schedulers.outsideAngular).pipe(fn(void 0),yo(),Object(mt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(mt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wt.a)(this.ref.get(t)).pipe(Object(_o.b)(this.afs.schedulers.insideAngular))}}class cw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?rw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),He(t=>t.length>0),this.afs.keepUnstableUntilFirst):rw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(dn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sw(t);return iw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return nw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(_o.b)(this.afs.schedulers.insideAngular))}}const lw=new r.q("angularfire2.enableFirestorePersistence"),hw=new r.q("angularfire2.firestore.persistenceSettings"),fw=new r.q("angularfire2.firestore.settings"),dw=new r.q("angularfire2.firestore.use-emulator");function pw(t,e=(t=>t)){return{query:e(t),ref:t}}let gw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Oo.d(o),this.keepUnstableUntilFirst=Object(Oo.h)(this.schedulers);const c=Object(Oo.g)(t,o,e);!po.a.auth&&u&&Object(Oo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Oo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(wt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Rb){return"undefined"!=typeof console&&console.warn(Rb),Object(Ee.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ee.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=pw(n,e),o=this.schedulers.ngZone.run(()=>r);return new aw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new cw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new uw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Oo.c),r.Pb(Oo.b,8),r.Pb(lw,8),r.Pb(fw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(hw,8),r.Pb(dw,8),r.Pb(Qb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Oo.c),Object(r.Pb)(Oo.b,8),Object(r.Pb)(lw,8),Object(r.Pb)(fw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(hw,8),Object(r.Pb)(dw,8),Object(r.Pb)(Qb,8))},token:t,providedIn:"any"}),t})(),yw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:lw,useValue:!0},{provide:hw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[gw]}),t})(),vw=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.usuario={},this.authenticated=!1,this.auth.authState.subscribe(t=>{console.log("Estado del usuario: ",t),t?(this.usuario.nombre=t.displayName.split(" ")[0],this.usuario.uid=t.uid,this.authenticated=!0):this.authenticated=!1})}login(){this.auth.signInWithPopup(new po.a.auth.GoogleAuthProvider)}logout(){this.auth.signOut()}cargarMensajes(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("fecha","desc").limit(10)),this.itemsCollection.valueChanges().pipe(Object(mt.a)(t=>{this.chats=[];for(const e of t)this.chats.unshift(e)}))}enviarMensaje(t){let e={mensaje:t,autor:this.usuario.nombre,uid:this.usuario.uid,fecha:(new Date).getTime()};return this.itemsCollection.add(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(gw),r.Pb(tw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mw=(()=>{class t{constructor(t){this.cs=t}login(){this.cs.login()}logout(){this.cs.logout()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:5,vars:0,consts:[[1,"text-center"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],["src","https://icon-icons.com/icons2/836/PNG/32/Google_icon-icons.com_66793.png","width","30px"]],template:function(t,e){1&t&&(r.Lb(0,"p"),r.dc(1,"Inicie seci\xf3n para acceder al chat"),r.Kb(),r.Lb(2,"div",0),r.Lb(3,"button",1),r.Sb("click",(function(){return e.login()})),r.Jb(4,"img",2),r.Kb(),r.Kb())},encapsulation:2}),t})();const bw=function(t,e){return{"badge-success text-left":t,"badge-primary":e}};function ww(t,e){if(1&t&&(r.Lb(0,"div"),r.Lb(1,"span",5),r.dc(2),r.Kb(),r.Lb(3,"p"),r.dc(4),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub(2);r.yb(1),r.Vb("ngClass",r.Xb(3,bw,t.uid!==n.cs.usuario.uid,t.uid==n.cs.usuario.uid)),r.yb(1),r.ec(" ",t.autor,""),r.yb(2),r.ec(" ",t.mensaje," ")}}function _w(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",1),r.Lb(1,"div",2),r.cc(2,ww,5,6,"div",3),r.Kb(),r.Lb(3,"input",4),r.Sb("ngModelChange",(function(e){return r.Zb(t),r.Ub().mensaje=e}))("keyup.enter",(function(){return r.Zb(t),r.Ub().enviarMensaje()})),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(2),r.Vb("ngForOf",t.cs.chats),r.yb(1),r.Vb("ngModel",t.mensaje)}}function Ow(t,e){1&t&&(r.Lb(0,"div",1),r.Lb(1,"div",6),r.Lb(2,"div",7),r.Lb(3,"div",8),r.Jb(4,"app-login"),r.Kb(),r.Kb(),r.Kb(),r.Kb())}let Ew=(()=>{class t{constructor(t){this.cs=t,this.cs.cargarMensajes().subscribe(()=>{this.cs.authenticated&&this.cs.chats.length>5&&setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}enviarMensaje(){""!=this.mensaje&&(this.cs.enviarMensaje(this.mensaje),this.mensaje="")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-chat"]],decls:2,vars:2,consts:[["class","chat-window fadeIn",4,"ngIf"],[1,"chat-window","fadeIn"],["id","app-mensajes",1,"app-mensajes"],[4,"ngFor","ngForOf"],["type","text","name","mensaje","placeholder","Enviar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"badge",3,"ngClass"],[1,"container"],[1,"row","align-items-start"],[1,"col"]],template:function(t,e){1&t&&(r.cc(0,_w,4,2,"div",0),r.cc(1,Ow,5,0,"div",0)),2&t&&(r.Vb("ngIf",e.cs.authenticated),r.yb(1),r.Vb("ngIf",!e.cs.authenticated))},directives:[P,k,St,Nt,we,j,mw],styles:[".no-exist[_ngcontent-%COMP%]{margin:0;padding:0}"]}),t})();const Cw=[{path:"",component:fo},{path:"home",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:24,vars:0,consts:[[1,"container"],[1,"box"],[1,"footer"],["type","button",1,"btn","btn-primary"],[1,"table"],[3,"routerLink"],[1,"box","chat"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"p"),r.dc(3,"Esta aplicaci\xf3n web esta creada con fines educativos y a modo de resumen de todo lo aprendido en 2 a\xf1os intentando aprender programaci\xf3n.... "),r.Kb(),r.Lb(4,"div",2),r.Lb(5,"button",3),r.dc(6," Leer m\xe1s"),r.Kb(),r.Kb(),r.Kb(),r.Lb(7,"div",1),r.Lb(8,"h1"),r.dc(9,"Animaciones"),r.Kb(),r.Lb(10,"table",4),r.Lb(11,"tbody"),r.Lb(12,"tr"),r.Lb(13,"th"),r.Lb(14,"a",5),r.dc(15,"Listas"),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"tr"),r.Lb(17,"th"),r.dc(18," Colas "),r.Kb(),r.Kb(),r.Lb(19,"tr"),r.Lb(20,"th"),r.dc(21," Pilas "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(22,"div",6),r.Jb(23,"app-chat"),r.Kb(),r.Kb())},directives:[Bi,Ew],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:20px;color:hsla(0,0%,100%,.6)}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;animation-name:fade;animation-duration:2s}.box[_ngcontent-%COMP%]{align-items:stretch;flex:1 29%;padding:25px;margin:20px}.box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin:50px 70px 0 0;text-align:center}.box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 40px;background-color:transparent;border-color:#fff}.chat[_ngcontent-%COMP%]{text-align:-webkit-right}.box[_ngcontent-%COMP%]:first-child{flex:1 40%}tr[_ngcontent-%COMP%]{border-bottom:2px solid}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:hsla(0,0%,100%,.6);text-decoration:none}tr[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}h1[_ngcontent-%COMP%]{font-size:25px}"]}),t})()},{path:"**",pathMatch:"full",redirectTo:""}];let Iw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[no.forRoot(Cw,{useHash:!0})],no]}),t})();function Tw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"ul",3),r.Lb(1,"li"),r.Lb(2,"a",4),r.Sb("click",(function(){return r.Zb(t),r.Ub().cs.logout()})),r.dc(3," Logout "),r.Kb(),r.Kb(),r.Kb()}}function Sw(t,e){1&t&&(r.Lb(0,"ul",3),r.Lb(1,"li"),r.dc(2," \xa0 "),r.Kb(),r.Kb())}let xw=(()=>{class t{constructor(t){this.cs=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:16,vars:3,consts:[[1,"navbar"],[3,"routerLink"],["class","end",4,"ngIf"],[1,"end"],[3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"ul"),r.Lb(2,"li"),r.Lb(3,"a",1),r.dc(4," Universidad "),r.Kb(),r.Kb(),r.Lb(5,"li"),r.Lb(6,"a"),r.dc(7," Jiminah "),r.Kb(),r.Kb(),r.Lb(8,"li"),r.Lb(9,"a"),r.dc(10," Tayunie "),r.Kb(),r.Kb(),r.Lb(11,"li"),r.Lb(12,"a"),r.dc(13," Yoongisillo "),r.Kb(),r.Kb(),r.Kb(),r.cc(14,Tw,4,0,"ul",2),r.cc(15,Sw,3,0,"ul",2),r.Kb()),2&t&&(r.yb(3),r.Vb("routerLink","/home"),r.yb(11),r.Vb("ngIf",e.cs.authenticated),r.yb(1),r.Vb("ngIf",!e.cs.authenticated))},directives:[Bi,P],styles:[".navbar[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;animation-name:fade;animation-duration:2s}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:10px;width:70%;background-color:#4e4551}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:22px;cursor:pointer;color:#fff}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;padding-right:5%;padding-left:5%;display:inline-block;color:#fff;text-align:center}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .actived[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.8);border-bottom:1px solid hsla(0,0%,100%,.5333333333333333);border-radius:4px}.navbar[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{width:30%;text-align:right}.navbar[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.3)}"]}),t})();function jw(t,e){1&t&&r.Jb(0,"app-start")}function Aw(t,e){1&t&&r.Jb(0,"app-navbar")}function kw(t,e){1&t&&r.Jb(0,"router-outlet")}let Nw=(()=>{class t{constructor(t){t.events.pipe(He(t=>t instanceof Sn)).subscribe(t=>this.navigated="/"!==t.url)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.cc(0,jw,1,0,"app-start",0),r.cc(1,Aw,1,0,"app-navbar",0),r.cc(2,kw,1,0,"router-outlet",0)),2&t&&(r.Vb("ngIf",!e.navigated),r.yb(1),r.Vb("ngIf",e.navigated),r.yb(1),r.Vb("ngIf",e.navigated))},directives:[P,fo,xw,$i],styles:["router-outlet[_ngcontent-%COMP%]{background-color:#000}"]}),t})(),Pw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[Nw]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[Oe,gt,Iw,yw,Oo.a.initializeApp(i)]]}),t})();Object(r.S)(),dt().bootstrapModule(Pw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);